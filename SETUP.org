#+TITLE: LaTeX settings in one file
#+AUTHOR: Timm Lichte

* Installation

In order to compile these templates, press =C-c C-v t= , or evaluate the following source block (with =C-c C-c=):

#+BEGIN_SRC emacs-lisp
(org-babel-tangle)
#+END_SRC

* TODO Document templates

- [ ] add templates for org-mode

** Abstract template

#+NAME: abstract-template
#+BEGIN_SRC latex :noweb yes :tangle templates/abstract-template.tex
\documentclass[
<<abstract-options>>
]{article}

<<abstract-settings>>

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HEADER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{myMacros}

<<abstract-body>>
#+END_SRC

#+NAME: abstract-body
#+BEGIN_SRC latex 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HEADER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author{Max Mustermann (Affiliation)}
\title{Title}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% BODY
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\maketitle

\paragraph{First paragraph}

\paragraph{References}
{\tiny
\printbibliography[heading=none]
}

\end{document}
#+END_SRC

** Article template

#+NAME: article-template
#+BEGIN_SRC latex :noweb yes :tangle templates/article-template.tex
\documentclass[
<<article-options>>
]{article}

<<article-settings>>

%%%%%%%%%%%%%%
%   Macros   % 
%%%%%%%%%%%%%%

\input{myMacros}

<<article-body>>
#+END_SRC

#+NAME: article-body
#+BEGIN_SRC latex 
%%%%%%%%%%%%%
%   Title   % 
%%%%%%%%%%%%%

\title{Titel over two \newlineTitle lines}
\subject{Text type}
\author{Max Mustermann}
\affiliation{Affiliation, \url{some@email.address}}  

%%%%%%%%%%%%%%%%%%% 
% Document start  % 
%%%%%%%%%%%%%%%%%%% 

\begin{document}

\maketitle

\begin{abstract}%
This is an abstract: \lipsum[1]
\end{abstract}

\section{Information about this template}

\input{README.tex}

\input{examples/master-examples.tex}

\section{Blindtext}

\lipsum

%%%%%%%%%%%%%%%%%%% 
% Document end    % 
%%%%%%%%%%%%%%%%%%% 

\insertBib

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
#+END_SRC

** Beamer template

#+NAME: beamer-template-org
#+BEGIN_SRC org :noweb yes :tangle templates/beamer-template.org
#+TITLE: Beamer slides
#+AUTHOR: John Doe
#+SUBTITLE: Some subtitle
:Settings:
# #+DATE: 
#+BEAMER_HEADER: %\date[]{}
#+BEAMER_HEADER: %\institute[]{}
#+BEAMER_HEADER: %\titlegraphic{\includegraphics[height=1cm]{graphics/sfb-logo-quer} \hfil \includegraphics[height=1cm]{graphics/hhu-logo}}	% Logo on title slide
#+BEAMER_HEADER: \setbeamersize{text margin left=15pt,text margin right=20pt}
#+FILETAGS: research
#+LANGUAGE:  en
#+OPTIONS:   H:2 num:t toc:t \n:nil @:t ::t |:t ^:t -:t f:t *:t <:t ':t
#+OPTIONS:   TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc
#+STARTUP: beamer
#+STARTUP: hideblocks content
#+LATEX_CLASS: tl-beamer
#+LATEX_CLASS_OPTIONS: <<beamer-options-org>> 
#+LATEX_COMPILER: pdflatex
#+LATEX_HEADER: <<beamer-settings>>
#+LATEX_HEADER: \input{myMacros}
#+COLUMNS: %40ITEM %10TAGS %9BEAMER_act(Overlays) %4BEAMER_col(Col) %20BEAMER_opt(Options)
:end:

,#+BEGIN_EXPORT latex
\setlength{\Exlabelsep}{0em}		% for linguex examples
\setlength{\SubExleftmargin}{1,5em}	% for linguex examples
\renewcommand\eachwordone{\sffamily}	% for glossing with linguex
\renewcommand\eachwordtwo{\sffamily}	% for glossing with linguex
\setlength{\Extopsep}{0em}   % vertical margin in linguex examples

\newcommand{\mypause}{\pause}

\AtBeginSection[]
{
 \begin{frame}<beamer>{Outline}
   \tableofcontents[
   currentsection
   ]
 \end{frame}
}
,#+END_EXPORT

,* First section

,** First slide




,* References                                      :B_ignoreheading:
:PROPERTIES:
:BEAMER_env: ignoreheading
:END:

,** References
:PROPERTIES:
:beamer_opt: allowframebreaks
:END:

\insertBib

,* COMMENT org-mode settings

,** Installation of =tl-beamer=

The virtual LaTeX class =tl-beamer= has to be propagated to org-mode before export.

,#+BEGIN_SRC elisp :results output slient
(add-to-list 'org-latex-classes
         '("tl-beamer" 
						"\\documentclass{beamer}
						[NO-DEFAULT-PACKAGES]"
            ("\\section{%s}" . "\\section*{%s}")
            ("\\subsection{%s}" . "\\subsection*{%s}")
            ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
            ("\\paragraph{%s}" . "\\paragraph*{%s}")
            ("\\subparagraph{%s}" . "\\subparagraph*{%s}")))
,#+END_SRC

,** Local Variables
# Local variables:
# coding: utf-8
# org-latex-with-hyperref: t
# org-latex-listings: listings
# end:

#+END_SRC

#+NAME: beamer-template
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template.tex
% -*- coding: utf-8 -*-

\documentclass[
<<beamer-options>>
]{beamer}

<<beamer-settings>>
% \setbeamersize{text margin left=1.5em,text margin right=1.5em}

%%%%%%%%%%%%%%%%%%%%%%%% 
%    CUSTOM MACROS     %
%%%%%%%%%%%%%%%%%%%%%%%% 

\input{myMacros}
\definecolor{myblue}{rgb}{0,0,0.70}
\definecolor{myred}{rgb}{0.8,0,0}
\definecolor{mydarkgreen}{rgb}{0,0.55,0}

<<beamer-body>>

#+END_SRC

#+NAME: beamer-body
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HEADER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title[\arabic{page} ]{Beamer Template}
%\subtitle[short]{Subtitle}	
\author[Max]{Max Mustermann}
\institute[Inst.]{Institute/Affiliation}
\date[]{\today}
%\logo{\pgfimage[width=2cm,height=1cm]{logo-emmy}}			% Logo on all slides (pdf,png,jpg,eps)
\titlegraphic{\includegraphics[height=1cm]{graphics/sfb-logo-quer} \hfil \includegraphics[height=1cm]{graphics/hhu-logo}}	% Logo on title slide

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SLIDES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\begin{frame}[plain]
  \titlepage
\end{frame}

%\frame{\titlepage}

%\frame{
%\frametitle{Table of contents}
%  \tableofcontents
%  [pausesections]
%}

%\AtBeginSection[]
%{
%  \begin{frame}<beamer>{Outline}
%    \tableofcontents[
%    currentsection
%    ]
%  \end{frame}
%}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{About the template}
  
\input{README.tex}
  
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{examples/beamer-examples.tex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\begin{frame}[plain,allowframebreaks]
\frametitle{}

\insertBib

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% eval: (TeX-run-style-hooks "beamer")
%%% End:
#+END_SRC

** Book template

#+NAME: book-template
#+BEGIN_SRC latex :noweb yes :tangle templates/book-template.tex
\documentclass[
<<book-options>>
]{book}

<<book-settings>>

%%%%%%%%%%%%%%
%   Macros   % 
%%%%%%%%%%%%%%

\input{myMacros}   % the content of myMacros.tex goes here

<<book-body>>
#+END_SRC

#+NAME: book-body
#+BEGIN_SRC latex
%%%%%%%%%%%%%
%   Title   % 
%%%%%%%%%%%%%

\title{Title of book}
\author{Max Mustermann \\
  Affiliation \\
  \url{some@mail.address} \\}  
\date{\ddmmyyyydate\today, \currenttime}


%%%%%%%%%%%%%%%%%%% 
% Document start  % 
%%%%%%%%%%%%%%%%%%% 

\begin{document}

\maketitle
\frontmatter
\tableofcontents
\mainmatter


\chapter{Information about this template}

\input{README.tex}

\chapter{\LaTeX\ Examples}

\input{examples/master-examples.tex}

\chapter{Blindtext}

\lipsum

\section{Blindtext subsection}

\lipsum


%%%%%%%%%%%%%%%%%%% 
%  Document end   % 
%%%%%%%%%%%%%%%%%%% 


\insertBib

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:


#+END_SRC

** Hausarbeit template

#+NAME: hausarbeit-template
#+BEGIN_SRC latex :noweb yes :tangle templates/hausarbeit-template.tex
\documentclass[
11pt,
bibliography=totoc,
numbers=noenddot,
% draft
]{scrbook}


%%%%%%%%%%%%%%%%%%%%%%%% 
%       SETTINGS       %
%%%%%%%%%%%%%%%%%%%%%%%% 

\input{settings/hausarbeit-settings}


%%%%%%%%%%%%%%
%   Macros   % 
%%%%%%%%%%%%%%

\input{myMacros}   % the content of myMacros.tex goes here


%%%%%%%%%%%%%
%   Title   % 
%%%%%%%%%%%%%

\subject{Hausarbeit}
\title{Titel}
\author{{\LARGE Max Mustermann} \\
		\\
		Matrikelnummer: 123456789\\
		\url{mustermann@phil.hhu.de}\\ 
		Heinrich-Heine-Universität Düsseldorf\\}  
\date{\ddmmyyyydate\today, \currenttime}
\publishers{Seminarangaben}


%%%%%%%%%%%%%%%%
%   Document   % 
%%%%%%%%%%%%%%%%

\begin{document}

\maketitle
\frontmatter
\tableofcontents
\mainmatter 

\chapter{Information about this template}

\input{README.tex}

\chapter{\LaTeX\ Examples}

\input{examples/master-examples.tex}

\chapter{Blindtext}

\lipsum

\section{Blindtext section}

\lipsum

%%%%%%%%%%%%%%%%%%% 
%  Document end   % 
%%%%%%%%%%%%%%%%%%% 

\bibliographystyle{bst/unified}
\bibliography{references}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
#+END_SRC

** Essay template

#+NAME: essay-template
#+BEGIN_SRC latex :noweb yes :tangle templates/essay-template.tex
%%%%%%%%%%%%%%%%%%%%%%%% 
%       SETTINGS       %
%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[11pt,twoside]{scrartcl}

\input{settings/scrarticle_setup.tex}

\input{settings/standard-settings}


\begin{document}

%%%%%%%%%%%%%
%   Title   % 
%%%%%%%%%%%%%

\subject{Essay}
\title{Titel over two \newlineTitle lines}	% change title
\author{Max Mustermann}	% change name
\affiliation{
		Matrikelnummer: 123456789\\	% change Matrikelnummer
		\url{mustermann@phil.hhu.de}\\	% change email address
		Seminar: Complexity in grammar, Heinrich-Heine-Universität, WS 2015/2016}

\maketitle 

%%%%%%%%%%%%%%%%%%%%%%
%   Document start   % 
%%%%%%%%%%%%%%%%%%%%%%

\section{Information about the template}

\input{README.tex}

\input{examples/master-examples}

\section{Blindtext}

\lipsum


%%%%%%%%%%%%%%%%%%%
%   Document end  % 
%%%%%%%%%%%%%%%%%%%

\insertBib

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
#+END_SRC

* Bundled settings

** Abstract settings

#+NAME: abstract-options
#+BEGIN_SRC latex
12pt,
a4paper,
#+END_SRC

#+NAME: abstract-settings
#+BEGIN_SRC latex
\input{settings/standard-settings}

\usepackage[left=25mm, right=25mm, top=25mm, bottom=25mm, noheadfoot]{geometry}
\pagenumbering{gobble}

\PassOptionsToPackage{maxbibnames=1,maxcitenames=1,firstinits=true}{biblatex}
\defbibenvironment{bibliography}{\noindent}{\unspace}{\xspace$\bullet$\xspace}

\makeatletter
\renewcommand\maketitle{

  ~\vspace{-1.1cm}

  {\raggedright
    \renewcommand{\baselinestretch}{1.2}\selectfont
  {\bfseries\large\@title}\\[2ex]
  {\large\@author}

  }
}
\makeatother

#+END_SRC

** Article settings

#+NAME: article-options
#+BEGIN_SRC latex
11pt,
draft,
twoside
#+END_SRC


#+NAME: article-settings
#+BEGIN_SRC latex
\input{settings/scrarticle-settings}

\input{settings/standard-settings}
#+END_SRC

** Beamer settings

#+NAME: beamer-options
#+BEGIN_SRC latex
% 8pt, 9pt, 10pt, 11pt, 12pt, 14pt, 17pt, 20pt
% serif,
% table, % for table coloring
% draft,
% ngerman,
% handout,	% remove overlays
compress,
xcolor=table,
dvipsnames,
#+END_SRC

#+NAME: beamer-options-org
#+BEGIN_SRC latex
[compress,xcolor=table,dvipsnames]
#+END_SRC

#+NAME: beamer-settings
#+BEGIN_SRC latex
\input{settings/beamer-settings.tex}
#+END_SRC

#+BEGIN_SRC latex :noweb yes :tangle settings/beamer-settings.tex
\usepackage{tipa}

%% Encoding, fonts, language
<<pdflatex-settings>>

\usepackage{etex} 
\usepackage{graphics}

<<tikz-settings>>

<<forest-settings>>

\usepackage{url}
\usepackage{amsmath,amssymb,amsfonts,marvosym}
\usepackage{ulem}			% to cross out text
\normalem

\usepackage{ragged2e}
\let\raggedright=\RaggedRight

% \usepackage{tipa}
\usepackage{linguex}   % must be loaded below \usepackage[T1]{fontenc}
\AtBeginDocument{
  \setlength{\Exlabelsep}{0em}		% for linguex examples
  \setlength{\SubExleftmargin}{1,5em}	% for linguex examples
  \renewcommand\eachwordone{\sffamily}	% for glossing with linguex
  \renewcommand\eachwordtwo{\sffamily}	% for glossing with linguex
  % \setlength{\Extopsep}{1ex}   % vertical margin in linguex examples
}

<<avm-settings>>

<<beamer-style>>

%% Bibliography

%% BibLaTeX
<<biblatex-settings>>

%% BibTeX 
% \input{settings/natbib_bibtex_setup.tex} 
% \PassOptionsToPackage{round}{natbib}
% \renewcommand{\newblock}{}    % to make natbib compatible with beamer

%% textpos settings
\usepackage{calc}
\usepackage[absolute,overlay]{textpos}
\setlength{\TPHorizModule}{1em}
\setlength{\TPVertModule}{1ex}

\newlength{\textposOriginH}
\newlength{\textposOriginV}
\setlength{\textposOriginH}{10mm}
\setlength{\textposOriginV}{10mm}
\textblockorigin{\textposOriginH}{\textposOriginV}

\newcommand{\freeblock}[2]{
  \begin{textblock}{0.1}(#1)
  #2
  \end{textblock}
}
#+END_SRC

** Book settings

#+NAME: book-options
#+BEGIN_SRC latex
11pt,
bibliography=totoc,
numbers=noenddot,
% draft
#+END_SRC


#+NAME: book-settings
#+BEGIN_SRC latex
\usepackage{datetime}

\input{settings/standard-settings}
#+END_SRC

** Standard settings

#+NAME: standard-settings
#+BEGIN_SRC latex :noweb yes :tangle settings/standard-settings.tex
<<pdflatex-settings>>

%% Trees and graphics
\usepackage{graphics}
<<tikz-settings>>
<<forest-settings>>
% \usepackage{arydshln} 		% for dashed horizontal lines in tables (incompatible with avm)
\usepackage{multirow}		% similar to \multicolumn

%% Symbols
\usepackage{latexsym,amsmath,amssymb,wasysym}
\usepackage{marvosym}		% for thunderbolt symbol
\usepackage{ulem}			% to cross out text
\normalem
\usepackage{url}
\urlstyle{sf}

% Language
% \usepackage[ngerman]{babel}	% uncomment for German

%% Linguistics
\usepackage{linguex}
\usepackage{tipa}	% for phonetic symbols
\renewcommand{\firstrefdash}{}
<<avm-settings>>
% \usepackage[inference]{semantic} % for CCG 
% \usepackage{packages/ccg}

%% Bibliography
<<biblatex-settings>> 
% \input{settings/natbib_bibtex_setup.tex} 

% Hyperrefs in PDF 
<<hyperrefs-settings>>

%% for blindtext
\usepackage{lipsum}

#+END_SRC

* Package settings

** Forest

#+NAME: forest-settings
#+BEGIN_SRC latex :noweb yes
%%%%%%%%%%%%%%%%%%%%%%%
%   FOREST SETTINGS   % 
%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{forest}

\makeatletter

\@ifpackagelater{forest}{2016/01/01}
{\useforestlibrary{linguistics}}
{}

\@ifpackagelater{forest}{2016/01/01}
{\newcommand{\forestPreamble}{default preamble}} % version >=2 of forest
{\newcommand{\forestPreamble}{.style}} % version <=1 of forest

\makeatother

\forestset{
  \forestPreamble ={
    % .style={ % version <=1 of forest
    % default preamble={ % version >=2 of forest    
		for tree={
			parent anchor=south, 
			child anchor=north,
			% align=center,			% bad: adds space below label
			fit=rectangle,
			base=top,				% vertical orientation of nodes
			% inner sep=3,			% necesssary?
			begin draw/.code={\begin{tikzpicture}[baseline=(current bounding box.center)]},
    }},
  sn edges/.style={for tree={parent anchor=south, child anchor=north}},
  red subtree/.style={for tree={text=red},for descendants={edge=red}},
  black subtree/.style={for tree={text=black},for descendants={edge=black}},
  blue subtree/.style={for tree={text=blue},for descendants={edge=blue}},
  green subtree/.style={for tree={text=green},for descendants={edge=green}},
  gray subtree/.style={for tree={text=gray},for descendants={edge=gray}},
  vcenter/.style={begin draw/.code={\begin{tikzpicture}[baseline=(current bounding box.center)]}},
  empty nodes/.style={	% from the forest manual
    for tree={
      % calign=fixed edge angles,
      yshift=1ex},
    delay={where content={}{shape=coordinate,for parent={for children={anchor=north}}}{}}},
  derivation tree/.style={.style={
      for tree={parent anchor={},child anchor={},font=\ttfamily}}},
  dt label/.style 2 args={
    edge label={node[midway,font=\ttfamily\scriptsize, #1]{#2}},},
  %% for drawing STUG sequences
  </.style={ % draw horizontal line to predecessor
    no edge,
    before drawing tree={tikz+={\draw[dashed](!)--(!p);}}
  },
  >/.style={ % draw horizontal line to successor
    no edge,
    before drawing tree={tikz+={\draw[dashed](!)--(!n);}}
  },
  t/.style={calign with current}, % trunk 
  lex/.style={                    % terminal nodes with lexical material
    no edge,
    for parent={l sep=0ex},
    yshift=3ex,
    draw=gray,
    content={\textit{##1}}},
  c/.style n args=1{            % visual link with argument
    % edge label={node[xshift={0.8em},scale=0.8,fill=white,draw,inner sep=.10ex,circle]{#1}}
    % tikz={\node[yshift={1.5ex},scale=0.8,fill=white,draw,inner sep=.10ex,circle, right=-0.5em of .east]  {1};}
    label={[yshift={0.5ex},scale=.8,circle, draw, fill=white, inner sep=.1ex, label distance=-.65em, anchor=west]north east:#1}
  }  
}

#+END_SRC

** AVM

#+NAME: avm-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%
%   AVM SETTINGS     % 
%%%%%%%%%%%%%%%%%%%%%%

\usepackage{packages/avm}

\avmoptions{center} 
\avmfont{\scshape}
\avmvalfont{\normalfont}
\avmsortfont{\normalfont\itshape}

\newenvironment{topbot}{   	% more flexible than /newcommand ?
	\avmvskip{0.2ex} 
	\hspace{-1.5em}
	\begin{avm}
	\avml
	}
	%%%
	{
	\avmr
    \end{avm}
    \hspace{-0.5em}
}
#+END_SRC

** Beamer

#+NAME: beamer-style
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%%
%   BEAMER STYLE    % 
%%%%%%%%%%%%%%%%%%%%%%%%

%\usefonttheme{serif}
%\renewcommand*{\ttdefault}{cmtt}

\definecolor{HHUblue}{HTML}{006AB3}
\setbeamercolor{structure}{fg=HHUblue}

\setbeamerfont{frametitle}{family=\sffamily}
\setbeamerfont{title}{family=\sffamily}
\setbeamerfont{block title}{family=\sffamily}

\usetheme{Copenhagen} % Boadilla
\usecolortheme{default}   % beaver
\usefonttheme{default}		% default | professionalfonts | serif | structurebold | structureitalicserif | structuresmallcapsserif
\useinnertheme{default} 	% circles | default | inmargin | rectangles | rounded
\useoutertheme{default}	% default | infolines | miniframes | shadow | sidebar | smoothbars | smoothtree | split | tree

%\setbeamercovered{transparent}				% for transparent overlays
\setbeamercovered{invisible}				% for non-transparent overlays
\setbeamertemplate{navigation symbols}{}	% no navigation symbols
\setbeamertemplate{headline}[default]		% no headline
\setbeamertemplate{footline}[frame number]
\setbeamertemplate{section in toc}[]
\setbeamertemplate{subsection in toc}[]
\setbeamertemplate{itemize items}[square]
\setbeamertemplate{enumerate items}[square]
%\setbeamertemplate{blocks}[default]		% rectangular blocks
%\setbeamersize{text margin left=10pt,text margin right=10pt}

%% Bibliography style (http://tex.stackexchange.com/questions/97615/article-style-bibliography-in-beamer-class)
\setbeamertemplate{frametitle continuation}[from second]
% Now get rid of all the colours
\setbeamercolor*{bibliography entry title}{fg=black}
\setbeamercolor*{bibliography entry author}{fg=black}
\setbeamercolor*{bibliography entry location}{fg=black}
\setbeamercolor*{bibliography entry note}{fg=black}
% and kill the abominable icon
\setbeamertemplate{bibliography item}{\insertbiblabel}  % insert label from bib(la)tex
\AtBeginDocument{
  \renewcommand*{\bibfont}{\scriptsize}
}

\tikzset{% makes available \only and \alt inside paths
  only/.code args={<#1>#2}{\only<#1>{\pgfkeysalso{#2}}},
  alt/.code args={<#1>#2#3}{\alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}}}
}

\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
    \pgfsetfillopacity{0}\begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,left]{author in head/foot}%
      \usebeamerfont{author in head/foot}\pgfsetfillopacity{1}\color{gray}\hspace*{2ex}\insertshortauthor~~(\insertshortinstitute)
    \end{beamercolorbox}%
    \pgfsetfillopacity{0}\begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
      \usebeamerfont{title in head/foot}\pgfsetfillopacity{1}\insertshorttitle
    \end{beamercolorbox}%
    \pgfsetfillopacity{0}\begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
    \usebeamerfont{date in head/foot}\pgfsetfillopacity{1}\color{gray}\insertshortdate{}\hspace*{2em}
      \insertframenumber{} %/ \inserttotalframenumber
      \hspace*{2ex}
    \end{beamercolorbox}}%
  \vskip0pt%
}


\newcommand{\separationframe}[1]{
\begin{frame}
\frametitle{}

\begin{center}
  \LARGE 
  \settowidth{\stmueTmp}{ #1 }
    \begin{minipage}{\stmueTmp}
    \begin{block}{}
    \begin{center}
    %\usebeamercolor[fg]{frametitle}
    #1
    \end{center}
    \end{block}
    \end{minipage}
\end{center}

\end{frame}
}

\newcommand\framecite[1]{
\vskip-2ex
\hfill #1%
\vskip-3.3ex ~
}
#+END_SRC

** TODO BibLaTeX
:LOGBOOK:
- State "TODO"       from              [2017-08-18 Fr 08:15]
:END:

- [ ] add =\abstractTrue=

#+NAME: biblatex-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%%
%   BIBLATEX SETTINGS  % 
%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\mycitestyle}{bst/biblatex-sp-unified/cbx/sp-authoryear-comp}
\makeatletter
\@ifclassloaded{beamer}{\renewcommand{\mycitestyle}{numeric-comp}}{}
\@ifclassloaded{tikzposter}{\renewcommand{\mycitestyle}{numeric-comp}}{}
\makeatother

\usepackage[
  natbib=true,
  style=bst/biblatex-sp-unified/bbx/biblatex-sp-unified,
  citestyle=\mycitestyle,
  %refsection=chapter,
  maxbibnames=99,
  isbn=false,
  doi=false,
  eprint=false,
  %backend=biber,
  backend=biber,
  % sorting=ydnt,  % sort in descending chronological order
  indexing=cite,
  labelnumber,  % for numeric bibliography in beamer
  %toc=bib    % make bibliography appear in toc, incompatible with beamer
  ]{biblatex}
\renewcommand{\postnotedelim}{: }%
\renewcommand{\multicitedelim}{\addsemicolon\space}%
\renewcommand{\compcitedelim}{\multicitedelim}%
\DeclareFieldFormat{postnote}{#1}%

%% beamer settings
\makeatletter
\@ifclassloaded{beamer}{  
  \DeclareFieldFormat{labelnumberwidth}{[#1]}
  \defbibenvironment{bibliography}  % from numeric.bbx
      {\list
        {\printtext[labelnumberwidth]{%
          \printfield{prefixnumber}%
          \printfield{labelnumber}}}
        {\setlength{\labelwidth}{\labelnumberwidth}%
            \setlength{\leftmargin}{\labelwidth}%
            \setlength{\labelsep}{1em}%
            \addtolength{\leftmargin}{1em}%
            \setlength{\itemsep}{\bibitemsep}%
            \setlength{\parsep}{\bibparsep}}%
            \renewcommand*{\makelabel}[1]{\hss##1}}
      {\endlist}
      {\item}
    % \DeclareCiteCommand{\supercite}[\mkbibsuperscript]{
    %   \iffieldundef{prenote}
    %     {}
  %     {\BibliographyWarning{Ignoring prenote argument}}%
  %   \iffieldundef{postnote}
  %     {}
  %     {\BibliographyWarning{Ignoring postnote argument}}}
    %   {\usebibmacro{citeindex}%
  %      \color{gray}\bibopenbracket\usebibmacro{cite}\bibclosebracket}
    %   {\supercitedelim}
    %   {}
    \DeclareCiteCommand{\supercite}[\mkbibsuperscript]
      {\color{gray} % added color
      \usebibmacro{cite:init}%
      \let\multicitedelim=\supercitedelim
      \iffieldundef{prenote}
        {}
        {\BibliographyWarning{Ignoring prenote argument}}%
      \iffieldundef{postnote}
        {}
        {\BibliographyWarning{Ignoring postnote argument}}%
      \bibopenbracket}%
      {\usebibmacro{citeindex}%
       \usebibmacro{cite:comp}}
      {}
      {\usebibmacro{cite:dump}\bibclosebracket}

  \DeclareCiteCommand{\citeauthor}  % from sp-authoryear-comp.cbx; to add hyperref link  
    {\boolfalse{citetracker}%
     \boolfalse{pagetracker}%
     \usebibmacro{prenote}}
    {\ifciteindex
       {\indexnames{labelname}}
       {}%
     \printtext[bibhyperref]{\printnames{labelname}}}
    {\multicitedelim}
    {\usebibmacro{postnote}}

  \DeclareCiteCommand{\citeyear}  % from sp-authoryear-comp.cbx; to add hyperref link  
    {\boolfalse{citetracker}%
     \boolfalse{pagetracker}%
     \usebibmacro{prenote}}
    {\printfield[bibhyperref]{year}}
    {\multicitedelim}
    {\usebibmacro{postnote}}
}{}
\makeatother

%% tikzposter settings
\makeatletter
\@ifclassloaded{tikzposter}{  
\DeclareFieldFormat{labelnumberwidth}{#1}
\defbibenvironment{bibliography}
{\footnotesize\noindent}
{\unspace}
{}
\renewbibmacro*{begentry}{%
\textbf{\color{HHUblue}%
\printtext[labelnumberwidth]{%
[\printfield{prefixnumber}%
\printfield{labelnumber}]}%
\space
%\setunit{\addspace}
}}
\renewcommand*{\finentrypunct}{\addperiod\space}

\DeclareCiteCommand{\supercite}[\mkbibsuperscript]
{\color{gray} % added color
\usebibmacro{cite:init}%
\let\multicitedelim=\supercitedelim
\iffieldundef{prenote}
{}
{\BibliographyWarning{Ignoring prenote argument}}%
\iffieldundef{postnote}
{}
{\BibliographyWarning{Ignoring postnote argument}}%
\bibopenbracket}%
{\usebibmacro{citeindex}%
\usebibmacro{cite:comp}}
{}
{\usebibmacro{cite:dump}\bibclosebracket}

\DeclareCiteCommand{\citeauthor}  % from sp-authoryear-comp.cbx; to add hyperref link  
{\boolfalse{citetracker}%
\boolfalse{pagetracker}%
\usebibmacro{prenote}}
{\ifciteindex
{\indexnames{labelname}}
{}%
\printtext[bibhyperref]{\printnames{labelname}}}
{\multicitedelim}
{\usebibmacro{postnote}}

\DeclareCiteCommand{\citeyear}  % from sp-authoryear-comp.cbx; to add hyperref link  
{\boolfalse{citetracker}%
\boolfalse{pagetracker}%
\usebibmacro{prenote}}
{\printfield[bibhyperref]{year}}
{\multicitedelim}
{\usebibmacro{postnote}}
}{}
\makeatother

\addbibresource[datatype=bibtex]{references.bib}

\newcommand{\insertBib}{
  \printbibliography[
    %notkeyword=this
    ] 
}

\let\cite=\citet  % in order to prevent inconsistencies between \cite and \citet
\newcommand{\citeauthoryear}[1]{\citeauthor{#1} (\citeyear{#1})}
\newcommand{\citealtauthoryear}[1]{\citeauthor{#1} \citeyear{#1}}

#+END_SRC

** Hyperrefs

#+NAME: hyperrefs-settings
#+BEGIN_SRC latex
% Hyperrefs in PDF 
\usepackage[bookmarks=true,bookmarksopen=true,%
  hyperindex=true,%
  breaklinks=true,
  draft=false,plainpages=false,
  pdfauthor={},%
  pdfkeywords={},%
  ]{hyperref}
\hypersetup{colorlinks=false, pdfborder={0 0 0}}
#+END_SRC

** Listings

#+NAME: listings-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%%
%   LISTINGS SETTINGS  % 
%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{listings}

\lstset{basicstyle=\ttfamily,tabsize=2,breaklines=true}
\usepackage{color}
\definecolor{lightgray}{gray}{0.7}

\lstnewenvironment{xmg}{%
  \lstset{language=,
    numbers=left,numbersep=8pt,numberstyle=\color{lightgray},
    %frame=l,
    basicstyle=\small\ttfamily,%
    xleftmargin=0.7cm,framexleftmargin=12pt,%
    framerule=0.5mm,rulecolor=\color{lightgray},%
    escapeinside={|\%}{\%|},%
    commentstyle=\color{lightgray},
    literate={->}{{{\textbf{->}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {\;}{{{\textbf{;}}}}1 {|}{{{\textbf{|}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1 {?}{{{\textbf{?}}}}1 {*=}{{{\textbf{*=}}}}1,% 
    morekeywords={node,type,feature,include,class,import,export,declare,syn,sem,frame,morph,value, use, with, dims}}}{}

\lstnewenvironment{duelme}{%
  \lstset{language=,
    numbers=left,numbersep=8pt,numberstyle=\color{lightgray},
    %frame=l,
    basicstyle=\small\ttfamily,%
    xleftmargin=0.7cm,framexleftmargin=12pt,%
    framerule=0.5mm,rulecolor=\color{lightgray},%
    escapeinside={|\%}{\%|},%
    commentstyle=\color{lightgray},     morekeywords={PATERN,NAME,POS,PATTERN,MAPPING,EXAMPLE,MWE,SENTENCE,DESCRIPTION,COMMENT,LISTA,LISTB,SUBJECT,OBJECT,MODIFIER,RPRON,CONJUGATION,POLARITY,EXPRESSION,CL}}}{}

\lstnewenvironment{patr-listing}{%
  \lstset{language=,
  numbers=left,numbersep=8pt,numberstyle=\color{lightgray},
  % frame=l,
  basicstyle=\small\ttfamily,%
  xleftmargin=0.7cm,framexleftmargin=12pt,%
  framerule=0.5mm,rulecolor=\color{lightgray},%
  escapeinside={|\%}{\%|},%
  commentstyle=\color{lightgray},
  literate={:}{{{\textbf{:}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1, 
  morekeywords={Define,as,Word}}}{}


\newcommand{\ixmg}{%
  \lstinline[language=,keepspaces,%
      literate={->}{{{\textbf{->}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {\;}{{{\textbf{;}}}}1 {|}{{{\textbf{|}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1 {?}{{{\textbf{?}}}}1 {*=}{{{\textbf{*=}}}}1,%
      morekeywords={node,type,feature,include,class,import,export,declare,syn,sem,frame,morph,value, use, with, dims}
      ]}

% \lstset{
%   basicstyle=\small\ttfamily,       
%   %stepnumber=1,
%   tabsize=2,
%   breaklines=true,
%   linewidth=\textwidth,
%   escapeinside={<ESC>}{</ESC>},
%   %prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rhookswarrow}},
%   %postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rcurvearrowse\space}}
%   }           

%   \lstnewenvironment{xmg}{%
%   \lstset{
%     language=,
%     frame=l,
%     basicstyle=\normalsize\ttfamily,%
%     xleftmargin=0.6cm,framexleftmargin=0.3cm,%
%     framerule=0.5mm,rulecolor=\color{lightgray},%
%     escapeinside={<ESC>}{</ESC>},%
%     commentstyle=\color{lightgray},
%     literate={->}{{{\textbf{->}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {\;}{{{\textbf{;}}}}1 {|}{{{\textbf{|}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1 {?}{{{\textbf{?}}}}1 {*=}{{{\textbf{*=}}}}1,% 
%     morekeywords={node,type,feature,include,class,import,export,declare,syn,sem,value, use, with, dims,frame,morph}}}{}

% \newcommand{\ixmg}{%
%   \lstinline[language=,keepspaces,%
%       literate={->}{{{\textbf{->}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {\;}{{{\textbf{;}}}}1 {|}{{{\textbf{|}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1 {?}{{{\textbf{?}}}}1 {*=}{{{\textbf{*=}}}}1,%
%       morekeywords={node,type,feature,include,class,import,export,declare,syn,sem,value, use, with, dims,frame,morph}
%       ]}
#+END_SRC

** natbib/BibTeX

#+NAME: natbib_bibtex-settings
#+BEGIN_SRC latex
\usepackage{natbib}
\setlength{\bibsep}{0mm}
%\setcitestyle{notesep={: }} 
\bibpunct[: ]{(}{)}{;}{a}{}{;}
\bibliographystyle{bst/unified}

\newcommand{\insertBib}{
	\bibliography{references}
}

\let\cite=\citet 	% in order to prevent inconsistencies between \cite and \citet
#+END_SRC

** PDFLaTeX

#+NAME: pdflatex-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%%
%   PDFLATEX SETTINGS  % 
%%%%%%%%%%%%%%%%%%%%%%%%

%% Font & Encoding
\usepackage{libertine}
\usepackage[libertine]{newtxmath}
\usepackage[scaled=0.8]{beramono}  % for monospaced font
\usepackage{microtype}		% micro-typographic aspects of the fonts
\usepackage[T1]{fontenc}	% special fonts, e.g. for German umlaute

%% compatible with BibLaTeX
\usepackage[utf8]{inputenc}
%% incompabtible with BibLaTeX
% \usepackage{ucs}
% \usepackage[utf8x]{inputenc}

%% Language
%\usepackage[german]{babel}
%\usepackage{german}
\usepackage[english]{babel}
#+END_SRC

** scrarticle

#+NAME: scrarticle-settings
#+BEGIN_SRC latex :noweb yes :tangle settings/scrarticle-settings.tex
\usepackage{datetime}
\usepackage{ifdraft}

\newcommand{\newlineTitle}{\\}

\usepackage{scrpage2}
\ohead{\headmark}
\chead{}
\ihead{}
\ifdraft{\ifoot[]{Draft of \today, \currenttime\ -- comments are welcome!}}{}
\cfoot{}
\ofoot[]{\pagemark}
\pagestyle{scrheadings}

\makeatletter

\def\affiliation#1{\gdef\@affiliation{#1}}

\lehead{\@author}
\rohead{\renewcommand{\newlineTitle}{}\@title}

% quotes are indented at one side only.
\renewenvironment{quote}
{\list{}{\rightmargin0pt\leftmargin8mm}%{\rightmargin\leftmargin}%
\item\relax}
{\endlist}


% quotations are indented at one side only
% there is no indentation at the beginning of the quote
\renewenvironment{quotation}
{\list{}{\listparindent 1.5em%
    % \itemindent    \listparindent
    % \rightmargin   \leftmargin
    \parsep        \z@ \@plus\p@}%
\item\relax}
{\endlist}

\renewcommand{\maketitle}{
  \thispagestyle{plain}
  {\raggedright
    \ifdraft{\Large (Draft of \today, \currenttime)\par}{}%
    {\huge\sffamily%
      \ifx\@subject\empty\else{(\@subject) }\fi%
      \textbf{\@title}\\[2ex]\par}
    {\Large\@author \\}%
    \@ifundefined{@affiliation}{}
    { \vspace*{1ex}%
      \large\@affiliation \\}}%

  % \vspace*{\baselineskip}%
  % \ifx\@epigram\empty%
  % \else {\epigraph{\@epigram\\[-5ex]}{\@epigramsource}% 
  % \epigram{}\epigramsource{}}% 
  % \fi%
  \vspace*{-3ex}
  \begin{quote}
    \abstract
  \end{quote}
} 

\makeatother

#+END_SRC

** tikz

#+NAME: tikz-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%
%   TIKZ SETTINGS    % 
%%%%%%%%%%%%%%%%%%%%%%

\usepackage{tikz}
\usepackage{tikz-dependency}

\tikzset{every tree node/.style={align=center,anchor=north}}	% to allow linebreaks
\usetikzlibrary{calc} % for positioning arrows with ($(t.center)-(1,0)$)
\usetikzlibrary{shapes,decorations}
\usetikzlibrary{backgrounds,fit}
\usetikzlibrary{arrows}
\usetikzlibrary{matrix}
\usetikzlibrary{positioning}
\usetikzlibrary{automata}
\usetikzlibrary{tikzmark}

% Define box and box title style (see http://www.texample.net/tikz/examples/boxes-with-text-and-math/)
\tikzstyle{mybox} = [draw=gray, very thick,
    rectangle, rounded corners, inner sep=10pt, inner ysep=17pt,yshift=3pt]
\tikzstyle{fancytitle} =[draw=gray, very thick, fill=white,
    rectangle, rounded corners, inner sep=5pt, inner ysep=5pt]
\tikzstyle{mydouble} = [double distance=1pt]
    
\tikzset{
    %Define standard arrow tip
    >=stealth',
    %Define style for boxes
    box/.style={
           rectangle,
           rounded corners,
           draw=black, very thick,
           text width=10em,
           minimum height=2em,
           text centered},
    % Define arrow style
    arrow/.style={
           ->,
           thick,
           	shorten <=2pt,
           shorten >=2pt,}
}

\newcommand\centertikz[1]{\tikz[baseline=(current bounding box.center)]{#1}}
\newcommand\tikzcenter{baseline=(current bounding box.center)}
\newcommand\tikztop{baseline=(current bounding box.north)}

\newcommand\tikztreeset[1]{\matrix [matrix of nodes,left delimiter=\{,right delimiter=\}](set){#1};}
#+END_SRC

** hausarbeit

#+NAME: hausarbeit-settings
#+BEGIN_SRC latex :noweb yes :tangle settings/hausarbeit-settings.tex
\usepackage{datetime}

% Font & Encoding
\usepackage{libertine}
\usepackage[T1]{tipa}		% IPA symbols 
\usepackage[libertine]{newtxmath}
\usepackage{microtype}		% micro-typographic aspects of the fonts
\usepackage[T1]{fontenc}	% special fonts, e.g. for German umlaute
\usepackage{ucs}
\usepackage[utf8x]{inputenc}
\usepackage[scaled=0.83]{beramono}  % for monospaced font

% Language
\usepackage[ngerman]{babel}	% uncomment for German

% Trees and graphics
\usepackage{graphics,tikz}
\usepackage{multirow}		% similar to \multicolumn

% Symbols
\usepackage{latexsym,amsmath,amssymb,wasysym}
\usepackage{marvosym}		% for thunderbolt and Euro symbol
\usepackage{ulem}			% to cross out text
\normalem
\usepackage{url}
\urlstyle{sf}

% Linguistics
\usepackage{linguex}
\usepackage[inference]{semantic} % for CCG 
\usepackage{packages/ccg} 
\usepackage{tipa}
<<avm-settings>>
<<forest-settings>>

% BibTex
\usepackage{natbib}
\setcitestyle{notesep={: $\!$}} 

% Hyperrefs in PDF 
\usepackage[bookmarks=true,bookmarksopen=true,%
hyperindex=true,%
breaklinks=true,
draft=false,plainpages=false,
pdfauthor={},%
pdfkeywords={},%
]{hyperref}
\hypersetup{colorlinks=false, pdfborder={0 0 0}}

\usepackage{lipsum}

#+END_SRC

* TODO Examples
:LOGBOOK:
- State "TODO"       from              [2017-08-16 Mi 17:34]
:END:

- [ ] Move example here.
* Archive :ARCHIVE:
** Super class
:PROPERTIES:
:ARCHIVE_TIME: 2017-09-10 So 15:37
:END:

#+NAME: anyclass-defaults
#+BEGIN_SRC latex
\newcommand{\DocumentOptions}{11pt,a4paper}
\newcommand{\DocumentClass}{article}
#+END_SRC

#+NAME: anyclass
#+BEGIN_SRC latex :noweb yes :tangle anyclass.cls
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{anyclass}[2017/08/16 Just Any Document Type]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Default values
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

<<anyclass-defaults>>

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Option handling
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage{kvoptions}		% for key-value options
\SetupKeyvalOptions{
	family=anyclass,
	prefix=anyclass@ }

\DeclareVoidOption{article}{  			
  \renewcommand{\DocumentClass}{article}}
\DeclareVoidOption{book}{  			
  \renewcommand{\DocumentClass}{book}}
\DeclareVoidOption{beamer}{  			
  \renewcommand{\DocumentClass}{beamer}}
\DeclareVoidOption{abstract}{  			
  \renewcommand{\DocumentClass}{abstract}}

\DeclareStringOption{options}[11pt]
\define@key{langscibook}{options}{%
  \renewcommand{\DocumentOptions}{#1}}

\ProcessKeyvalOptions{anyclass}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Abstract
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\isabstract}{abstract}
\ifx\DocumentClass\isabstract

\LoadClass[
\DocumentOptions
]{article}

<<abstract-settings>>

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% ACL
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

% TODO


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Article
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\isarticle}{article}
\ifx\DocumentClass\isarticle

\LoadClass[
\DocumentOptions
]{article}

<<article-settings>>

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Beamer
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\isbeamer}{beamer}
\ifx\DocumentClass\isbeamer

\LoadClass[
\DocumentOptions
]{beamer}

<<beamer-settings>>

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Book
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\isbook}{book}
\ifx\DocumentClass\isbook

\LoadClass[
\DocumentOptions
]{book}

<<book-settings>>

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Poster
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

% TODO

#+END_SRC

** Preambles
:PROPERTIES:
:ARCHIVE_TIME: 2017-10-07 Sa 22:14
:END:

This is necessary to make the beamer template usable in org-mode:

#+BEGIN_SRC latex :noweb yes :tangle preambles/tl-beamer.cls
\NeedsTeXFormat{LaTeX2e} 
\ProvidesClass{preambles/tl-beamer}[2017/04/26 v0.1 My Beamer Preamble]

\LoadClass[
<<beamer-options>>
]{beamer}

<<beamer-settings>>
#+END_SRC

