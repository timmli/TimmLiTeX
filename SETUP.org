#+TITLE: LaTeX settings in one file
#+AUTHOR: Timm Lichte

* Table of contents :TOC_2_gh:
- [[#installation-with-emacs][Installation with Emacs]]
- [[#document-templates][Document templates]]
      - [[#abstract-template][Abstract template]]
      - [[#article-template][Article template]]
      - [[#beamer-template][Beamer template]]
      - [[#book-template][Book template]]
      - [[#langsci-template][LangSci template]]
      - [[#jlm-template][JLM template]]
      - [[#hausarbeit-template][Hausarbeit template]]
      - [[#essay-template][Essay template]]
      - [[#poster-template][Poster template]]
      - [[#standalone-template][Standalone template]]
- [[#beamer-themes][Beamer themes]]
      - [[#theme-settings][Theme settings]]
      - [[#tuebingen][Tuebingen]]
      - [[#lustnau][Lustnau]]
      - [[#duesseldorf][Duesseldorf]]
      - [[#bielefeld][Bielefeld]]
- [[#packages][Packages]]
      - [[#tikz-settingssty][tikz-settings.sty]]
- [[#bundled-settings][Bundled settings]]
      - [[#abstract-settings][Abstract settings]]
      - [[#article-settings][Article settings]]
      - [[#beamer-settings][Beamer settings]]
      - [[#book-settings][Book settings]]
      - [[#text-settings][Text settings]]
      - [[#poster-settings][Poster settings]]
- [[#package-settings][Package settings]]
      - [[#forest][Forest]]
      - [[#avm][AVM]]
      - [[#biblatex][BibLaTeX]]
      - [[#hyperrefs][Hyperrefs]]
      - [[#listings][Listings]]
      - [[#natbibbibtex][natbib/BibTeX]]
      - [[#pdflatex][PDFLaTeX]]
      - [[#scrarticle][scrarticle]]
      - [[#textpos][textpos]]
      - [[#tabular][tabular]]
      - [[#tikz][tikz]]
- [[#mymacros][myMacros]]
- [[#examples][Examples]]
      - [[#teaching][Teaching]]
      - [[#text][Text]]
      - [[#beamer][Beamer]]
      - [[#readme][Readme]]
      - [[#avm][AVM]]
      - [[#citations][Citations]]
      - [[#linguistics][Linguistics]]
      - [[#formulae][Formulae]]
      - [[#examples-for-texts][Examples for texts]]
      - [[#poster][Poster]]
      - [[#tikz][TikZ]]
      - [[#tables][Tables]]
      - [[#trees][Trees]]
- [[#makefile][Makefile]]
      - [[#beamer-makefile][Beamer Makefile]]
      - [[#poster-makefile][Poster Makefile]]
      - [[#teaching-makefile][Teaching Makefile]]
      - [[#text-makefile][Text Makefile]]
      - [[#jlm-makefile][JLM Makefile]]
      - [[#langscibook-makefile][Langscibook Makefile]]
      - [[#standalone-makefile][Standalone Makefile]]
- [[#latexmk][latexmk]]
- [[#local-variables][Local variables]]

* Installation with Emacs

In order to compile these templates, press =C-c C-v t= , or evaluate the following source block (with =C-c C-c=):

#+BEGIN_SRC emacs-lisp
(org-babel-tangle)
#+END_SRC

* Document templates

** Abstract template

#+NAME: abstract-template-org
#+BEGIN_SRC org :noweb yes :tangle templates/text-template/abstract-template.org
,#+TITLE: Title of paper
,#+AUTHOR: John Doe (Elfenbeinturm, Fantasien)
:Settings:
,#+FILETAGS: chooseTag
,#+CATEGORY: chooseCategory
,#+DATE: 
,#+STARTUP: nohideblocks
,#+LANGUAGE: en
,#+OPTIONS: H:5 num:t toc:nil \n:nil @:t ::t |:t ^:t -:t f:t *:t <:t ':t
,#+OPTIONS: TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc
,#+LATEX_CLASS: tl-abstract 
,#+LATEX_CLASS_OPTIONS: [<<abstract-options>>]
,#+LATEX_COMPILER: pdflatex
,#+LATEX_HEADER: <<abstract-settings>>
,#+LATEX_HEADER: \input{text-template/myMacros}
,#+LATEX_HEADER: %\bibliography{references}
:end:

,* Paragraph title

,* References 

,#+BEGIN_EXPORT latex
{\tiny
\printbibliography[heading=none]
}
,#+END_EXPORT

,* COMMENT org-mode settings

,** Installation of =tl-abstract=

Remember to first add the class [[https://github.com/langsci/latex][langscibook]] to the set of known classes (in =init.el=).

,#+BEGIN_SRC emacs-lisp :exports none
(add-to-list 'org-latex-classes
         '("tl-abstract" 
						"\\documentclass{article}
						[NO-DEFAULT-PACKAGES]"
            ("\\paragraph{%s}" . "\\paragraph*{%s}")
            ("\\subparagraph{%s}" . "\\subparagraph*{%s}")))
,#+END_SRC

,** Local Variables

# Local variables:
# coding: utf-8
# org-latex-with-hyperref: nil
# org-latex-prefer-user-labels: t
# end:
#+END_SRC

#+NAME: abstract-template-tex
#+BEGIN_SRC latex :noweb yes :tangle templates/text-template/abstract-template.tex
\documentclass[
<<abstract-options>>
]{article}

<<abstract-settings>>

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HEADER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{text-template/myMacros}

<<abstract-body>>
#+END_SRC

#+NAME: abstract-body
#+BEGIN_SRC latex :noweb yes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HEADER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author{Max Mustermann (Affiliation)}
\title{Title}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% BODY
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\maketitle

% TODO

\paragraph{Citation example}

<<example-citations>>

\paragraph{Blindtext} \lipsum

\paragraph{References}
{\tiny
\printbibliography[heading=none]
}

\end{document}
#+END_SRC

** Article template

#+NAME: article-template-org
#+BEGIN_SRC org :noweb yes :tangle templates/text-template/article-template.org
,#+TITLE: Title of paper
,#+AUTHOR: John Doe @@latex:\affiliation{Elfenbeinturm, Fantasien, \url{some@email.address}}@@
:Settings:
,#+FILETAGS: chooseTag
,#+CATEGORY: chooseCategory
,#+DATE: 
,#+STARTUP: nohideblocks
,#+LANGUAGE: en
,#+OPTIONS: H:5 num:t toc:nil \n:nil @:t ::t |:t ^:t -:t f:t *:t <:t ':t
,#+OPTIONS: TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc
,#+LATEX_CLASS: tl-article 
,#+LATEX_CLASS_OPTIONS: [<<article-options>>]
,#+LATEX_COMPILER: pdflatex
,#+LATEX_HEADER: <<article-settings>>
,#+LATEX_HEADER: \input{text-template/myMacros}
,#+LATEX_HEADER: %\bibliography{references}
:end:

,#+BEGIN_abstract
This is an abstract: @@latex:\lipsum[1]@@
,#+END_abstract

,* Introduction

Once upon a time ... 

,* List of references :ignore:

@@latex:\insertBib@@

,* COMMENT org-mode settings

,** Installation of =tl-article=

Remember to first add the class [[https://github.com/langsci/latex][langscibook]] to the set of known classes (in =init.el=).

,#+BEGIN_SRC emacs-lisp :exports none
(add-to-list 'org-latex-classes
         '("tl-article" 
						"\\documentclass{scrartcl}
						[NO-DEFAULT-PACKAGES]"
						("\\section{%s}" . "\\section*{%s}") 
						("\\subsection{%s}" . "\\subsection*{%s}") 
						("\\subsubsection{%s}" . "\\subsubsection*{%s}")
						("\\paragraph{%s}" . "\\paragraph*{%s}")))
,#+END_SRC

,** Local Variables

# Local variables:
# coding: utf-8
# org-latex-with-hyperref: nil
# org-latex-prefer-user-labels: t
# end:
#+END_SRC


#+NAME: article-template-tex
#+BEGIN_SRC latex :noweb yes :tangle templates/text-template/article-template.tex
\documentclass[
<<article-options>>
]{scrartcl}

<<article-settings>>

%%%%%%%%%%%%%%
%   Macros   % 
%%%%%%%%%%%%%%

\input{text-template/myMacros}

<<article-body>>
#+END_SRC

#+NAME: article-body
#+BEGIN_SRC latex 
%%%%%%%%%%%%%
%   Title   % 
%%%%%%%%%%%%%

\title{Titel over two \newlineTitle lines}
\subject{Text type}
\author{Max Mustermann}
\affiliation{Affiliation, \url{some@email.address}}  

%%%%%%%%%%%%%%%%%%% 
% Document start  % 
%%%%%%%%%%%%%%%%%%% 

\begin{document}

\maketitle

\begin{abstract}%
This is an abstract: \lipsum[1]
\end{abstract}

% TODO

\input{text-template/article-examples}

\section{Blindtext}

\lipsum

%%%%%%%%%%%%%%%%%%% 
% Document end    % 
%%%%%%%%%%%%%%%%%%% 

\insertBib

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
#+END_SRC

** Beamer template

#+NAME: beamer-template-org
#+BEGIN_SRC org :noweb yes :tangle templates/beamer-template/beamer-template.org
,#+TITLE: Beamer slides
,#+AUTHOR: John Doe
,#+SUBTITLE: Some subtitle
,#+FILETAGS: research
:Settings:
# #+DATE: 
# #+BEAMER_HEADER: \date[]{}
# #+BEAMER_HEADER: \institute[]{}
# #+BEAMER_HEADER: \titlegraphic{\includegraphics[height=1cm]{path/to/picture}}	% on title slide
,#+OPTIONS:   H:2 num:t toc:t \n:nil @:t ::t |:t ^:t -:t f:t *:t <:t ':t
,#+OPTIONS:   TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc
,#+STARTUP: beamer
,#+STARTUP: hideblocks content
,#+LATEX_CLASS: beamer
,#+LATEX_CLASS_OPTIONS: <<beamer-options-org>> 
,#+LATEX_COMPILER: pdflatex
,#+LATEX_HEADER: <<beamer-settings>>
,#+LATEX_HEADER: \input{beamer-template/myMacros}
,#+LATEX_HEADER: \usetheme{Lustnau}
,#+LATEX_HEADER: \input{beamerlogosTuebingen}
,#+LANGUAGE:  en
# #+LATEX_HEADER: \AtBeginDocument{\selectlanguage{german}}
,#+COLUMNS: %40ITEM %10TAGS %9BEAMER_act(Overlays) %4BEAMER_col(Col) %20BEAMER_opt(Options)
:end:

,#+BEGIN_EXPORT latex
%\selectlanguage{german} % select german language for babel package 

\setlength{\Exlabelsep}{0em}		% for linguex examples
\setlength{\SubExleftmargin}{1,5em}	% for linguex examples
\renewcommand\eachwordone{\sffamily}	% for glossing with linguex
\renewcommand\eachwordtwo{\sffamily}	% for glossing with linguex
\setlength{\Extopsep}{0em}   % vertical margin in linguex examples

\newcommand{\mypause}{\pause}

% \renewcommand{\bsp}[1]{{\color{HHUblue}\itshape\bfseries #1}} % already defined in myMacros.tex
\renewcommand{\bsp}[1]{{\usebeamercolor[bg!80]{block title example}\itshape\bfseries #1}}
\newcommand{\term}[1]{{\color{UTblue}\scshape\bfseries #1}} 
%\newcommand{\bspcolor}[1]{{\color{UTlightgreen}\bfseries #1}}
\newcommand{\bspcolor}[1]{{\usebeamercolor[bg!80]{block title example}\bfseries #1}}

\AtBeginSection[]
{
 \begin{frame}{Outline} % add <beamer> to remove this from handouts
   \tableofcontents[
   currentsection
   ]
 \end{frame}
}
,#+END_EXPORT

,* First section

,** First slide

,* References                                      :B_ignoreheading:
:PROPERTIES:
:BEAMER_env: ignoreheading
:END:

,** References
:PROPERTIES:
:beamer_opt: allowframebreaks
:END:

\insertBib

,* COMMENT org-mode settings

,** Installation of special link types

Link type for typesetting linguistic examples:

,#+BEGIN_SRC emacs-lisp
(org-link-set-parameters
 "bsp"
 :follow (lambda (path) (message "You clicked me."))
 :export (lambda (path desc backend)
           (cond
            ((eq backend 'latex)								
						 (format "{\\bsp{%s}}" (or desc path)))
						((eq 'html backend)
             (format "<font color=\"blue\">%s</font>"
                     (or desc path)))))
 :face '(:foreground "CornflowerBlue"	:slant italic	:weight bold		)
 :help-echo "This will be exported as example."
 )
,#+END_SRC

,** Local Variables

# Local variables:
# coding: utf-8
# org-latex-with-hyperref: t
# org-latex-listings: listings
# end:

#+END_SRC

In order to position the =\maketitle= command manually, you need to add =# org-latex-title-command: ""= to the local variables.

#+NAME: beamer-template-tex
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/beamer-template.tex
% -*- coding: utf-8 -*-

\documentclass[
  <<beamer-options>>
  ]{beamer}

<<beamer-settings>>

<<beamer-theme-settings>>

%%%%%%%%%%%%%%%%%%%%%%%% 
%    CUSTOM MACROS     %
%%%%%%%%%%%%%%%%%%%%%%%% 

\input{beamer-template/myMacros}
\definecolor{myblue}{rgb}{0,0,0.70}
\definecolor{myred}{rgb}{0.8,0,0}
\definecolor{mydarkgreen}{rgb}{0,0.55,0}

\renewcommand{\bsp}[1]{{\usebeamercolor[bg!80]{block title example}\itshape\bfseries #1}}
\newcommand{\term}[1]{{\color{UTblue}\scshape\bfseries #1}} 
\newcommand{\bspcolor}[1]{{\color{UTlightgreen}\bfseries #1}}

<<beamer-body>>

#+END_SRC

#+NAME: beamer-body
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HEADER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title[]{Beamer Template}
\subtitle[short]{Subtitle}	
\author[Max]{Max Mustermann}
\institute[Inst.]{Institute/Affiliation}
\date[]{\today}
%\logo{\pgfimage[width=2cm,height=1cm]{logo-emmy}}			% Logo on all slides (pdf,png,jpg,eps)
%\titlegraphic{\includegraphics[height=1cm]{path/to/picture}}	% on title slide

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SLIDES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\maketitle

% \begin{frame}[plain]
%   \titlepage
% \end{frame}

%\frame{\titlepage}

%\frame{
%\frametitle{Table of contents}
%  \tableofcontents
%  [pausesections]
%}

%\AtBeginSection[]
%{
%  \begin{frame}{Outline}
%    \tableofcontents[
%    currentsection
%    ]
%  \end{frame}
%}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{beamer-template/beamer-examples.tex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\begin{frame}[plain,allowframebreaks]
\frametitle{}

\insertBib

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% eval: (TeX-run-style-hooks "beamer")
%%% End:
#+END_SRC

** Book template

#+NAME: book-template-tex
#+BEGIN_SRC latex :noweb yes :tangle templates/text-template/book-template.tex
\documentclass[
<<book-options>>
]{scrbook}

<<book-settings>>

%%%%%%%%%%%%%%
%   Macros   % 
%%%%%%%%%%%%%%

\input{text-template/myMacros}   % the content of myMacros.tex goes here

<<book-body>>
#+END_SRC

#+NAME: book-body
#+BEGIN_SRC latex
%%%%%%%%%%%%%
%   Title   % 
%%%%%%%%%%%%%

\title{Title of book}
\author{Max Mustermann \\
  Affiliation \\
  \url{some@mail.address} \\}  
\date{\ddmmyyyydate\today, \currenttime}


%%%%%%%%%%%%%%%%%%% 
% Document start  % 
%%%%%%%%%%%%%%%%%%% 

\begin{document}

\maketitle
\frontmatter
\tableofcontents
\mainmatter

\input{text-template/book-examples}

\chapter{Blindtext}

\lipsum

\section{Blindtext subsection}

\lipsum


%%%%%%%%%%%%%%%%%%% 
%  Document end   % 
%%%%%%%%%%%%%%%%%%% 


\insertBib

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:


#+END_SRC

** LangSci template

https://langsci-press.org/

#+NAME: langsci-paper-template-org
#+BEGIN_SRC org :noweb yes :tangle templates/langscibook-template/langsci-paper-template.org
,#+TITLE: Title of paper
,#+AUTHOR: John Doe\affiliation{Elfenbeinturm, Fantasien}
:Settings:
,#+FILETAGS: chooseTag
,#+CATEGORY: chooseCategory
,#+DATE: 
,#+STARTUP: nohideblocks
,#+LANGUAGE: en
,#+OPTIONS: H:5 num:t title:nil toc:nil \n:nil @:t ::t |:t ^:t -:t f:t *:t <:t ':t
,#+OPTIONS: TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc
,#+LATEX_CLASS: langscibook-paper
,#+LATEX_CLASS_OPTIONS: [output=paper,draftmode,modfonts,nonflat,nonewtxmath]
,#+LATEX_COMPILER: xelatex
,#+LATEX_HEADER: 
,#+LATEX_HEADER: \usepackage{linguex,packages/avm}
,#+LATEX_HEADER: \usepackage{amsthm}
,#+LATEX_HEADER: \usepackage{amsmath}
,#+LATEX_HEADER: \usepackage{booktabs}
,#+LATEX_HEADER: \usepackage{packages/tikz-settings} % tikz, forest, etc.
,#+LATEX_HEADER: %\input{myMacros}
,#+LATEX_HEADER: \bibliography{references}
:end: 
# Eventually appears after \begin{document}.
,#+BEGIN_EXPORT latex

\newcommand{\govR}{\ensuremath{<_G}} 
\newcommand{\headR}{\ensuremath{<_H}}

% \addto\extrasenglish{%
  \renewcommand{\chapterautorefname}{Chapter}%
  \renewcommand{\figureautorefname}{Figure}%
  \renewcommand{\tableautorefname}{Table}%
  \renewcommand{\sectionautorefname}{Section}%
  \renewcommand{\subsectionautorefname}{Section}%
  \renewcommand{\subsubsectionautorefname}{Section}%
  \renewcommand{\Hfootnoteautorefname}{Footnote}%
% }
,#+END_EXPORT

# =\abstract= must appear before =\maketitle=.
# Therefore, we set =:title nil= and call =\maketitle= explicitely.
,#+LATEX:\abstract{
Put abstract of the paper here.
,#+LATEX:}

,#+BEGIN_EXPORT latex
\maketitle                      
,#+END_EXPORT

,* Introduction

Once upon a time ... 

,* List of references :ignore:

@@latex:\printbibliography[heading=subbibliography,notkeyword=this]@@

,* COMMENT org-mode settings

,** Installation of =langscibook=

Remember to first add the class [[https://github.com/langsci/latex][langscibook]] to the set of known classes (in =init.el=).

,#+BEGIN_SRC emacs-lisp :exports none
(add-to-list 'org-latex-classes
						 '("langscibook" 
							 "\\documentclass{langsci/langscibook}
				    		[NO-DEFAULT-PACKAGES]" 
							 ("\\part{%s}" . "\\part*{%s}") 
							 ("\\chapter{%s}" . "\\chapter*{%s}") 
							 ("\\section{%s}" . "\\section*{%s}") 
							 ("\\subsection{%s}" . "\\subsection*{%s}") 
							 ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
							 ("\\paragraph{%s}" . "\\paragraph*{%s}")
							 ))

(add-to-list 'org-latex-classes
						 '("langscibook-paper" 
							 "\\documentclass[output=paper]{langsci/langscibook}
				    		[NO-DEFAULT-PACKAGES]" 
							 ("\\section{%s}" . "\\section*{%s}") 
							 ("\\subsection{%s}" . "\\subsection*{%s}") 
							 ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
							 ("\\paragraph{%s}" . "\\paragraph*{%s}")
							 ))
,#+END_SRC

,** Local Variables

# Local variables:
# coding: utf-8
# org-latex-with-hyperref: nil
# org-latex-prefer-user-labels: t
# end:

#+END_SRC

** JLM template

http://jlm.ipipan.waw.pl/index.php/JLM

#+NAME: jlm-article-template-org
#+BEGIN_SRC org :noweb yes :tangle templates/jlm-template/jlm-article-template.org
,#+TITLE: Title of article
,#+LATEX_HEADER: \titlerunning{Title in header line}
,#+AUTHOR: Auhthor name
# #+LATEX_HEADER: \author{Author1\inst{1} \and Author2\inst{2}} % or like this
,#+LATEX_HEADER: \affiliation{Affiliation of author}
,#+LATEX_HEADER: \authorrunning{}
,#+LATEX_HEADER: \keywords{grammar, ...}
:Settings:
,#+FILETAGS: research
,#+DATE: 
,#+STARTUP: nohideblocks
,#+LANGUAGE: en
,#+OPTIONS: H:5 num:t toc:nil \n:nil @:t ::t |:t ^:t -:t f:t *:t <:t ':t
,#+OPTIONS: TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc
,#+LATEX_CLASS: jlm
# #+LATEX_CLASS_OPTIONS: [anonymous, TeXligs]
,#+LATEX_CLASS_OPTIONS: [TeXligs] 
,#+LATEX_COMPILER: xelatex
,#+LATEX_HEADER: \usepackage{graphicx}
,#+LATEX_HEADER: \usepackage{linguex,packages/avm}
,#+LATEX_HEADER: \usepackage{packages/tikz-settings} % tikz, forest, etc.
,#+LATEX_HEADER: \input{myMacros}
:end: 

# Eventually appears after \begin{document}.
,#+BEGIN_EXPORT latex
% \addto\extrasenglish{%
  \renewcommand{\chapterautorefname}{Chapter}%
  \renewcommand{\figureautorefname}{Figure}%
  \renewcommand{\tableautorefname}{Table}%
  \renewcommand{\sectionautorefname}{Section}%
  \renewcommand{\subsectionautorefname}{Section}%
  \renewcommand{\subsubsectionautorefname}{Section}%
  \renewcommand{\Hfootnoteautorefname}{Footnote}%
% }
,#+END_EXPORT

,#+BEGIN_abstract
Put abstract here.
,#+END_abstract

,* Introduction

,* List of references :ignore:

,#+BEGIN_EXPORT latex
\bibliographystyle{jlm}
\bibliography{references}
,#+END_EXPORT

,* COMMENT org-mode settings

,** Installation of =jlm=

Remember to first add the class jlm to the set of known classes (in =init.el=).

,#+BEGIN_SRC emacs-lisp :exports none
(add-to-list 'org-latex-classes
						 '("jlm" 
							 "\\documentclass{jlm}
				    		[NO-DEFAULT-PACKAGES]" 
							 ("\\section{%s}" . "\\section*{%s}") 
							 ("\\subsection{%s}" . "\\subsection*{%s}") 
							 ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
							 ("\\paragraph{%s}" . "\\paragraph*{%s}")
							 ))
,#+END_SRC

,** Local Variables

# Local variables:
# coding: utf-8
# org-latex-with-hyperref: nil
# org-latex-prefer-user-labels: t
# ispell-local-dictionary: "british"
# end:
#+END_SRC
** Hausarbeit template

#+NAME: hausarbeit-template
#+BEGIN_SRC latex :noweb yes :tangle templates/teaching-template/hausarbeit-template.tex
\documentclass[
11pt,
bibliography=totoc,
numbers=noenddot,
% draft
]{scrbook}

%%%%%%%%%%%%%%%%%%%%%%%% 
%       SETTINGS       %
%%%%%%%%%%%%%%%%%%%%%%%% 

\usepackage{datetime}

\input{settings/text-settings}

\AtBeginDocument{
  \selectlanguage{german} % which language is available depends on how babel is loaded
}

%%%%%%%%%%%%%%
%   Macros   % 
%%%%%%%%%%%%%%

\input{myMacros}   % the content of myMacros.tex goes here

%%%%%%%%%%%%%
%   Title   % 
%%%%%%%%%%%%%

\subject{Hausarbeit}
\title{Titel}
\author{{\LARGE Max Mustermann} \\
		\\
		Matrikelnummer: 123456789\\
		Studiengang: BSc Neue Ätherwissenschaften \\
		\url{mustermann@uni-tuebingen.de}\\ 
		Eberhard-Karls-Universität Tübingen\\}  
\date{\ddmmyyyydate\today, \currenttime}
\publishers{Seminarart \\ Seminartitel \\ Semester Jahr}

%%%%%%%%%%%%%%%%
%   Document   % 
%%%%%%%%%%%%%%%%

\begin{document}

\maketitle
\frontmatter
\tableofcontents
\mainmatter 

\input{examples/hausarbeit-examples}

\chapter{Blindtext}

\lipsum

\section{Blindtext section}

\lipsum

%%%%%%%%%%%%%%%%%%% 
%  Document end   % 
%%%%%%%%%%%%%%%%%%% 

\insertBib

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
#+END_SRC

** Essay template

#+NAME: essay-template
#+BEGIN_SRC latex :noweb yes :tangle templates/teaching-template/essay-template.tex
%%%%%%%%%%%%%%%%%%%%%%%% 
%       SETTINGS       %
%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[11pt,twoside]{scrartcl}

\input{settings/scrarticle-settings.tex}

\input{settings/text-settings}

\begin{document}

%%%%%%%%%%%%%
%   Title   % 
%%%%%%%%%%%%%

\subject{Essay}
\title{Titel over two \newlineTitle lines}	% change title
\author{Max Mustermann}	% change name
\affiliation{
		Matrikelnummer: 123456789\\	% change Matrikelnummer
    Studiengang: BSc Neue Ätherwissenschaften \\ % change Studiengang
		\url{mustermann@uni-tuebingen.de}\\	% change email address
		Seminar: Seminar name, University of Tübingen, WS 2020/2021}

\maketitle 

%%%%%%%%%%%%%%%%%%%%%%
%   Document start   % 
%%%%%%%%%%%%%%%%%%%%%%

\input{examples/essay-examples.tex}

\section{Blindtext}

\lipsum

%%%%%%%%%%%%%%%%%%%
%   Document end  % 
%%%%%%%%%%%%%%%%%%%

\insertBib

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
#+END_SRC

** Poster template

#+NAME: poster-template
#+BEGIN_SRC latex :noweb yes :tangle templates/poster-template/poster-template.tex
\documentclass[
	17pt,%12pt, 14pt, 17pt, 20pt, 25pt
	a1paper,%a0paper,a1paper,a2paper
	%landscape,portrait
	%margin=0mm, 		% between paper and poster
	%innermargin=15mm, 	% between poster and outermost blocks
	%colspace=15mm,		% horizontal spacing between successive columns
	%subcolspace=8mm,	% horizontal spacing between successive columns in the subcolumn environment
	%blockverticalspace=15mm,	% between two blocks
  dvipsnames,
	]{tikzposter} 

\input{poster-template/poster-settings}

\input{poster-template/myMacros}

\definecolor{mygray}{gray}{0.9}
\definecolor{HHUblue}{HTML}{006AB3}
\definecolor{lightgray}{gray}{0.7}

\newcommand{\affilsup}[1]{{\color{gray}$^{\text{#1}}$}}

%%%%%%%%%%%%%%%%%%%%%%
%   TITLE            % 
%%%%%%%%%%%%%%%%%%%%%%

\setlength{\fboxsep}{3pt}
\title{Title of poster}
%% \parbox is needed with linebreaks
% \title{\hspace{-2em}\parbox{\textwidth}{\centering
%     Title of poster}}
\author{Author Name(s)\affilsup{1}}
\institute{\affilsup{1}Affiliation}

\titlegraphic{\hspace*{1cm}\raisebox{0ex}{\includegraphics[width=5cm]{poster-template/graphics/sfb-logo-quer.pdf}}\hspace{36cm}\raisebox{0ex}{\includegraphics[width=10cm]{poster-template/graphics/hhu-logo-hres.pdf}}} 

\settitle{
	\centering
	\color{titlefgcolor}{\bfseries\Huge\@title\par}
	\vspace*{2em}
	{\huge\@author\par} \vspace*{1em} {\LARGE\@institute}

	\raisebox{0cm}[0pt]{\@titlegraphic}
}

%%%%%%%%%%%%%%%%%%%%%%
%   POSTERSTYLE      % 
%%%%%%%%%%%%%%%%%%%%%%

\input{poster-template/poster-style}
\tikzposterlatexaffectionproofoff

\defineblockstyle{greybox}{}{
	\draw[color=gray,fill=mygray] (blockbody.south west)
		rectangle (blockbody.north east);
	\ifBlockHasTitle
		\draw[color=white] (blocktitle.south west)
			rectangle (blocktitle.north east);
	\fi
}

%%%%%%%%%%%%%%%%%%%%%%
%   POSTER           % 
%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\maketitle[
	%width=10cm,	% width of the title portion of the poster
	%roundedcorners, linewidth, innersep	% box style of the title
	%titletotopverticalspace=0cmm, titletoblockverticalspace=0cm
	%titlegraphictotitledistance=0cm, 	% vertical distance between the titlegraphic and title description
	%titletextscale=2, 		% relative scaling of the text of the title
	]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{-5cm}
\block{Big box}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  Block text
}
\input{poster-template/poster-examples}

\begin{columns} 

\column{0.5}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\block{First column block}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  Block text
}

\column{0.5}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\block{Second column block}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  Block text  
}

\end{columns}

%%%%%%%%%%%%%%%%%%%%%%%%%% 
%  List of References    % 
%%%%%%%%%%%%%%%%%%%%%%%%%% 

\defineblockstyle{noframe}{}{
	\draw[color=white] (blockbody.south west)
		rectangle (blockbody.north east);
	\ifBlockHasTitle
		\draw[color=white] (blocktitle.south west)
			rectangle (blocktitle.north east);
	\fi
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\useblockstyle[linewidth=0pt]{noframe}
\block[linewidth=0pt]{}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{-5.5ex}
\tiny

\printbibliography[heading=none]

}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
#+END_SRC

** Standalone template

#+NAME: standalone-template
#+BEGIN_SRC latex :noweb yes :tangle templates/standalone-template/standalone-template.tex
\documentclass[
	%pstricks=true
	,crop=true
	,varwidth=\maxdimen
	]{standalone}

<<pdflatex-settings>>

<<tikz-settings>>

<<forest-settings>>

%% Symbols
\usepackage{latexsym,amsmath,amssymb,wasysym}
\usepackage{marvosym}		% for thunderbolt symbol
\usepackage{ulem}			% to cross out text
\normalem
\usepackage{url}
\urlstyle{sf}

%% Linguistics
\usepackage{tipa}	% for phonetic symbols; has to appear before fontspec
\usepackage{linguex}
\renewcommand{\firstrefdash}{}

\usepackage{standalone-template/packages/avm}
<<avm-settings>>

% \usepackage[inference]{semantic} % for CCG 
% \usepackage{packages/ccg}

% \input{standalone-template/myMacros}

\begin{document}

\Forest{
  [S
    [NP] 
    [VP
      [V  [\textit{eats}] ]
      [NP] ]]
}

\end{document}
#+END_SRC

* Beamer themes

Local Beamer themes are executed relative to the directory of the master file. Therefore, in order to avoid the use of specific relative paths in the code of the themes, they must later be put in the same directory as the master file.

** Theme settings

#+NAME: beamer-theme-settings
#+BEGIN_SRC latex :noweb yes
% \usetheme{Lustnau}  
% % \usetheme{Tuebingen}
% \input{beamerlogosTuebingen.tex}

\usetheme{Bielefeld}
\input{beamerlogosBielefeld.tex}

% \usetheme{Duesseldorf}
% \input{beamerlogosDuesseldorf.tex}
#+END_SRC

** Tuebingen

#+NAME: beamerthemeTuebingen.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerthemeTuebingen.sty
\mode<presentation>

%% Requirement
\RequirePackage{tikz}
\RequirePackage{helvet}
\RequirePackage{beramono}  % for monospaced font
\PassOptionsToPackage{scaled=0.95}{beramono}

%% Additional fields
\def\titlelogo#1{\gdef\@titlelogo{#1}}
\titlelogo{}
\def\inserttitlelogo{\@titlelogo}

\def\headlinelogo#1{\gdef\@headlinelogo{#1}}
\headlinelogo{}
\def\insertheadlinelogo{\@headlinelogo}

%% Generic macros
\def\vhrulefill#1{\leavevmode\leaders\hrule\@height#1\hfill \kern\z@}

%% Settings
\useinnertheme{Tuebingen}
\useoutertheme{Tuebingen}
\usecolortheme{Tuebingen}

\setbeamersize{text margin left=1cm,text margin right=1cm}

\mode<all>
#+END_SRC

#+NAME: beamercolorthemeTuebingen.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamercolorthemeTuebingen.sty
\mode<presentation>

\definecolor{UTred}{RGB}{165,30,55} 
\definecolor{UTgray}{RGB}{195,195,195} 
\definecolor{UTgold}{RGB}{180,160,105}
\definecolor{UTanthracite}{RGB}{50,65,75}
\definecolor{UTlightgreen}{RGB}{125,165,75}
\definecolor{UTgreen}{RGB}{50,110,30} 
\definecolor{UTblue}{RGB}{0,105,170}
\definecolor{UTlightblue}{RGB}{80,170,200}
\definecolor{UTnavyblue}{RGB}{65,90,140}
\definecolor{UTbrown}{RGB}{145,105,70}
\definecolor{UTlightbrown}{RGB}{215,180,105}

%% Settings
\setbeamercolor*{author}{fg=black}
\setbeamercolor*{date}{fg=black}
\setbeamercolor*{title}{fg=UTred}
\setbeamercolor*{subtitle}{fg=black}
\setbeamercolor*{titlegraphic}{bg=UTgray}

\setbeamercolor*{block title}{bg=UTnavyblue,fg=white}
\setbeamercolor*{block body}{bg=UTnavyblue!30!white}
\setbeamercolor*{block title alerted}{bg=UTred,fg=white}
\setbeamercolor*{block body alerted}{bg=UTred!30!white}
\setbeamercolor*{block title example}{bg=UTgreen,fg=white}
\setbeamercolor*{block body example}{bg=UTgreen!30!white}

\setbeamercolor*{item}{fg=black}

% \setbeamercolor{math text}{fg=UTnavyblue}
\setbeamercolor{math text displayed}{fg=UTnavyblue}

\setbeamercolor*{section in toc}{fg=black}
\setbeamercolor*{section number projected}{bg=UTred,fg=white}

\setbeamercolor*{bibliography entry title}{fg=black}
\setbeamercolor*{bibliography entry author}{fg=black}
\setbeamercolor*{bibliography entry location}{fg=black}
\setbeamercolor*{bibliography entry note}{fg=black}

\mode
<all>
#+END_SRC

#+NAME: beamerinnerthemeTuebingen.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerinnerthemeTuebingen.sty
\mode<presentation>

%% General settings

\setbeamertemplate*{background}{}

\setbeamerfont*{title}{size*={14}{16},series=\bfseries}
\setbeamerfont*{subtitle}{size*={12}{15},series=\upshape}
\setbeamerfont*{author}{size*={10}{12},series=\bfseries}
\setbeamerfont*{date}{size*={10}{12},series=\bfseries}

\setbeamertemplate{itemize item}{\color{black}$\bullet$}
\setbeamertemplate{itemize subitem}{\color{black}--}
\setbeamertemplate{itemize subsubitem}{\color{black}\tiny$\blacksquare$}

\setbeamertemplate{blocks}[default]
\setbeamerfont*{block title}{size=\normalsize}

\setbeamertemplate{section in toc}[square]

\setbeamertemplate{bibliography item}{\insertbiblabel}  % insert label from bib(la)tex
\setbeamerfont{bibliography entry author}{size=\tiny}%
\setbeamerfont{bibliography entry title}{size=\tiny}
\setbeamerfont{bibliography entry journal}{size=\tiny}
\setbeamerfont{bibliography entry note}{size=\tiny}

%% Title page

\defbeamertemplate*{title page}{Tuebingen}[1][t]
{
  \thispagestyle{empty}
  \setlength{\baselineskip}{11pt}
  % \vskip-0.08\paperheight
  \vskip0.042\paperheight
  %% Title logo
  \inserttitlelogo
  \vskip-0.015\paperheight
  {\color{UTgold}\vhrulefill{0.2pt}}
  \vskip0.025\paperheight
  %% Title graphic
  \begin{beamercolorbox}[wd=\textwidth,ht=0.375\paperheight]{titlegraphic}
  %% Savebox for \titlegraphic
  %% In order to be able to directly include tikzpictures 
  \newsavebox\mytitlebox
  \begin{lrbox}{\mytitlebox}
  \begin{minipage}{\textwidth}
  {\inserttitlegraphic}
  \end{minipage}
  \end{lrbox}
  %% Autocrop \titlegraphic (inspired by https://tex.stackexchange.com/a/193558/61499)
  \tikz\node[
    minimum width=\textwidth,
    minimum height=0.375\paperheight,
    path picture={
      \node at (path picture bounding box.center){
        \usebox\mytitlebox
      };
    }]{};
  \end{beamercolorbox}
  \vskip-5pt
  {\color{UTred}\rule{\textwidth}{7pt}}
  \vskip0pt
  %% Title, subtitle, author, date etc.
  {\usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle\par}%
  \vskip0.6ex
  {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle}
  \vskip0pt plus 1filll
  \ifx\insertdate\@empty%
  \else%
  {\usebeamerfont{date}\usebeamercolor[fg]{date}\insertdate}, %
  \fi
  {\usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor}%
  \par
}

\mode<all>
#+END_SRC

#+NAME: beamerouterthemeTuebingen.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerouterthemeTuebingen.sty
\mode<presentation>

% Frame title
\setbeamercolor{frametitle}{fg=black}
\setbeamerfont{frametitle}{size=\large,series=\bfseries}
% \setbeamerfont{footline}{size=\tiny}
\defbeamertemplate*{frametitle}{Tuebingen}[1][]
{
  \vspace*{2mm}
  \usebeamerfont{frametitle}\insertframetitle
  \vspace*{-1.5mm}
}

\setbeamertemplate{navigation symbols}{}
\defbeamertemplate*{sidebar}{Tuebingen}{}

\defbeamertemplate*{headline}{Tuebingen} %headline format
{
  \vspace*{2.5mm}
  \begin{beamercolorbox}[wd=\paperwidth,leftskip=1.01cm,rightskip=1.01cm]
  {headline}
  \hspace*{0mm}
  \insertheadlinelogo
  \par
  \vspace*{0.3mm}
  {\color{UTgold}\vhrulefill{0.2pt}}
  \end{beamercolorbox}
}

\setbeamerfont{footline}{size=\tiny}
\defbeamertemplate*{footline}{Tuebingen} %footline format
{
  \begin{beamercolorbox}[wd=\paperwidth,leftskip=1cm,rightskip=1cm]
  {footline} 
  {\color{UTred}\vhrulefill{0.2pt}}
  \end{beamercolorbox} \begin{beamercolorbox}[wd=\paperwidth,leftskip=1cm,rightskip=1cm,ht=0.37cm,dp=0.25cm]{footline} 
  ~\insertframenumber{} | %
  \insertshortauthor%
  \ifx\insertinstitute\@empty%
  \else%
  \ (\insertshortinstitute)%
  \fi%
  , \insertshorttitle%
  \ifx\insertdate\@empty%
  \else%
  , \insertshortdate
  \fi
  % \fussnote \hfill \crtext \hspace*{20mm}
  \end{beamercolorbox}
}

\mode<all>
#+END_SRC

#+NAME: beamerlogosTuebingen.tex
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerlogosTuebingen.tex
\titlelogo{%
  \includegraphics[width=3.967cm, keepaspectratio=true]{beamer-template/graphics/UT-logo.pdf}
  \hskip0.4cm 
  %% Trajan
  \begin{minipage}[t]{0.5\textwidth}
  \vskip-0.95cm
  \includegraphics[width=5.75cm, keepaspectratio=true]{beamer-template/graphics/UT-MNF-FBI-logo.pdf}
  \end{minipage}%
}

%% Old version with relative measures
% \titlelogo{%
% \includegraphics[width=.31\paperwidth, keepaspectratio=true]{beamer-template/graphics/UT-logo.pdf}
% \hskip0.4cm 
%   %% Trajan
% \begin{minipage}[t]{0.5\textwidth}
% \vskip-0.104\paperheight
% \includegraphics[width=.45\paperwidth, keepaspectratio=true]{beamer-template/graphics/UT-MNF-FBI-logo.pdf}
% \end{minipage}%
%   %% Trajan + Arial
%   % \begin{minipage}[t]{0.5\textwidth}
%   % \setlength{\baselineskip}{11pt}
%   % \vskip-0.108\paperheight
%   % \includegraphics[width=.45\paperwidth, keepaspectratio=true]{beamer-template/graphics/UT-MNF-logo.pdf}\newline
%   % \upshape\sffamily\color{UTred}\fontsize{7}{10}\selectfont\textbf{Fachbereich Informatik}
%   % \end{minipage}%
% }

\headlinelogo{%
  \includegraphics[width=2.52cm, keepaspectratio=true]{beamer-template/graphics/UT-logo.pdf}
}      

\titlegraphic{
% TODO
} 
#+END_SRC

** Lustnau

#+NAME: beamerthemeLustnau.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerthemeLustnau.sty
\mode<presentation>

\usetheme{Tuebingen}

\defbeamertemplate*{headline}{Lustnau} %headline format
{}

\defbeamertemplate*{frametitle}{Lustnau}[1][left] % inspired by the definition of the default frametitle
{%
  % \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
  % \@tempdima=\textwidth%
  % \advance\@tempdima by\beamer@leftmargin%
  % \advance\@tempdima by\beamer@rightmargin%
  \hspace{-0.475cm}               %due to sep in beamercolorbox
  \begin{beamercolorbox}[sep=0.35cm,#1,wd=.82\textwidth]{frametitle}
    \usebeamerfont{frametitle}%
    % \vbox{}\vskip-1ex%
    \vbox{}\vskip-0.8ex%
    \if@tempswa\else\csname beamer@fte#1\endcsname\fi%
    \strut\insertframetitle\strut\par%
    {%
      \ifx\insertframesubtitle\@empty%
      \else%
      {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\strut\par}%
      \fi
    }%
    \vskip-1ex%
    \if@tempswa\else\vskip-.3cm\fi% set inside beamercolorbox... evil here...
    \end{beamercolorbox}%
    \par
    \vspace*{-0.08cm}
    {\color{UTgold}\vhrulefill{0.2pt}}
    % \vspace*{-1.5mm}
  }

\addtobeamertemplate{frametitle}{}{%
  \begin{tikzpicture}[remember picture,overlay]
  \node[anchor=north east,xshift=-1cm,yshift=-0.3ex] at (current page.north east) {\insertheadlinelogo};
  \end{tikzpicture}}

\mode<all>
#+END_SRC

** Duesseldorf

#+NAME: beamerthemeDuesseldorf.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerthemeDuesseldorf.sty
\mode<presentation>

\usepackage{libertine} % libertine tends to cause problems, e.g. when using tipa
\usepackage[libertine]{newtxmath}

% \usepackage{times}

\usepackage[scaled=0.8]{beramono}  % for monospaced font

%\usefonttheme{serif}
%\renewcommand*{\ttdefault}{cmtt}

\definecolor{HHUblue}{HTML}{006AB3}
\setbeamercolor{structure}{fg=HHUblue}

\setbeamerfont{frametitle}{family=\sffamily}
\setbeamerfont{title}{family=\sffamily}
\setbeamerfont{block title}{family=\sffamily}

\usetheme{Copenhagen} % Boadilla
\usecolortheme{default}   % beaver
\usefonttheme{default}		% default | professionalfonts | serif | structurebold | structureitalicserif | structuresmallcapsserif
\useinnertheme{default} 	% circles | default | inmargin | rectangles | rounded
\useoutertheme{default}	% default | infolines | miniframes | shadow | sidebar | smoothbars | smoothtree | split | tree

%\setbeamercovered{transparent}				% for transparent overlays
\setbeamercovered{invisible}				% for non-transparent overlays
\setbeamertemplate{navigation symbols}{}	% no navigation symbols
\setbeamertemplate{headline}[default]		% no headline
\setbeamertemplate{footline}[frame number]
\setbeamertemplate{section in toc}[]
\setbeamertemplate{subsection in toc}[]
\setbeamertemplate{itemize items}[square]
\setbeamertemplate{enumerate items}[square]
%\setbeamertemplate{blocks}[default]		% rectangular blocks
%\setbeamersize{text margin left=10pt,text margin right=10pt}

%% Bibliography style (http://tex.stackexchange.com/questions/97615/article-style-bibliography-in-beamer-class)
\setbeamertemplate{frametitle continuation}[from second]
% Now get rid of all the colours
\setbeamercolor*{bibliography entry title}{fg=black}
\setbeamercolor*{bibliography entry author}{fg=black}
\setbeamercolor*{bibliography entry location}{fg=black}
\setbeamercolor*{bibliography entry note}{fg=black}
% and kill the abominable icon
\setbeamertemplate{bibliography item}{\insertbiblabel}  % insert label from bib(la)tex
\AtBeginDocument{
  \renewcommand*{\bibfont}{\scriptsize}
}

\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
    \pgfsetfillopacity{0}\begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,left]{author in head/foot}%
    \usebeamerfont{author in head/foot}\pgfsetfillopacity{1}\color{gray}\hspace*{2ex}\insertshortauthor~~(\insertshortinstitute)
    \end{beamercolorbox}%
    \pgfsetfillopacity{0}\begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
    \usebeamerfont{title in head/foot}\pgfsetfillopacity{1}\insertshorttitle
    \end{beamercolorbox}%
    \pgfsetfillopacity{0}\begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
    \usebeamerfont{date in head/foot}\pgfsetfillopacity{1}\color{gray}\insertshortdate{}\hspace*{2em}
    \insertframenumber{} %/ \inserttotalframenumber
    \hspace*{2ex}
    \end{beamercolorbox}}%
  \vskip0pt%
}

\mode<all>
#+END_SRC

#+NAME: beamerlogosDuesseldorf.tex
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerlogosDuesseldorf.tex
\titlegraphic{\includegraphics[height=1cm]{graphics/sfb-logo-quer} \hfil \includegraphics[height=1cm]{graphics/hhu-logo}}
#+END_SRC

** Bielefeld

Template for slides in the corporate design of the [[https://www.uni-bielefeld.de/][University of Bielefeld]] (Fakulty of Literature and Language). 

#+NAME: beamerthemeBielefeld.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerthemeBielefeld.sty
\mode<presentation>

%% Requirement
\RequirePackage{tikz}
\RequirePackage{helvet}
\RequirePackage{beramono}  % for monospaced font
\PassOptionsToPackage{scaled=0.95}{beramono}

%% Additional fields
\def\titlelogo#1{\gdef\@titlelogo{#1}}
\titlelogo{}
\def\inserttitlelogo{\@titlelogo}

\def\headlinelogo#1{\gdef\@headlinelogo{#1}}
\headlinelogo{}
\def\insertheadlinelogo{\@headlinelogo}

%% Generic macros
\def\vhrulefill#1{\leavevmode\leaders\hrule\@height#1\hfill \kern\z@}

%% Settings
\usecolortheme{Bielefeld}
\useinnertheme{Bielefeld}
\useoutertheme{Bielefeld}

\setbeamersize{text margin left=1cm,text margin right=1cm}

\mode<all>
#+END_SRC

#+NAME: beamercolorthemeBielefeld.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamercolorthemeBielefeld.sty
\mode<presentation>

\definecolor{UBred}{RGB}{220,90,90} 
\definecolor{UBgray}{RGB}{240,240,240} 
\definecolor{UBgold}{RGB}{180,160,105}
\definecolor{UBanthracite}{RGB}{50,65,75}
\definecolor{UBlightgreen}{RGB}{20,245,180}
\definecolor{UBgreen}{RGB}{0,140,100} 
\definecolor{UBblue}{RGB}{20,95,120}
\definecolor{UBlightblue}{RGB}{125,180,190}
\definecolor{UBnavyblue}{RGB}{85,140,160}
\definecolor{UBbrown}{RGB}{145,105,70}
\definecolor{UBlightbrown}{RGB}{215,180,105}

%% Settings
\setbeamercolor*{author}{fg=black}
\setbeamercolor*{date}{fg=black}
\setbeamercolor*{title}{fg=black}
\setbeamercolor*{subtitle}{fg=black}
\setbeamercolor*{titlegraphic}{bg=UBgray}

\setbeamercolor*{block title}{bg=UBnavyblue,fg=white}
\setbeamercolor*{block body}{bg=UBnavyblue!30!white}
\setbeamercolor*{block title alerted}{bg=UBred,fg=white}
\setbeamercolor*{block body alerted}{bg=UBred!30!white}
\setbeamercolor*{block title example}{bg=UBgreen,fg=white}
\setbeamercolor*{block body example}{bg=UBgreen!30!white}

\setbeamercolor*{item}{fg=black}

% \setbeamercolor{math text}{fg=UBnavyblue}
\setbeamercolor{math text displayed}{fg=UBnavyblue}

\setbeamercolor*{section in toc}{fg=black}
\setbeamercolor*{section number projected}{bg=UBlightgreen,fg=black}

\setbeamercolor*{bibliography entry title}{fg=black}
\setbeamercolor*{bibliography entry author}{fg=black}
\setbeamercolor*{bibliography entry location}{fg=black}
\setbeamercolor*{bibliography entry note}{fg=black}

\mode
<all>
#+END_SRC

#+NAME: beamerinnerthemeBielefeld.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerinnerthemeBielefeld.sty
\mode<presentation>

%% General settings

\setbeamertemplate*{background}{}

\setbeamerfont*{title}{size*={15}{16},series=\bfseries\scshape}
\setbeamerfont*{subtitle}{size*={12}{15},series=\upshape}
\setbeamerfont*{author}{size*={10}{12},series=\upshape}
\setbeamerfont*{date}{size*={10}{12},series=\upshape}

\setbeamertemplate{itemize item}{\color{black}$\bullet$}
\setbeamertemplate{itemize subitem}{\color{black}--}
\setbeamertemplate{itemize subsubitem}{\color{black}\tiny$\blacksquare$}

\setbeamertemplate{blocks}[default]
\setbeamerfont*{block title}{size=\normalsize}

\setbeamertemplate{section in toc}[square]

\setbeamertemplate{bibliography item}{\insertbiblabel}  % insert label from bib(la)tex
\setbeamerfont{bibliography entry author}{size=\tiny}%
\setbeamerfont{bibliography entry title}{size=\tiny}
\setbeamerfont{bibliography entry journal}{size=\tiny}
\setbeamerfont{bibliography entry note}{size=\tiny}

%% Title page

\defbeamertemplate*{title page}{Bielefeld}[1][t]
{
  \thispagestyle{empty}
  \setlength{\baselineskip}{11pt}
  % \vskip-0.15\paperheight  % only needed with headlines sometimes ...
  %% Title logo
  \inserttitlelogo
  % \vskip0.025\paperheight
  %% Title graphic
  \begin{beamercolorbox}[wd=\textwidth,ht=0.375\paperheight]{titlegraphic}
  %% Savebox for \titlegraphic
  %% In order to be able to directly include tikzpictures 
  \newsavebox\mytitlebox
  \begin{lrbox}{\mytitlebox}
  \begin{minipage}{\textwidth}
  {\inserttitlegraphic}
  \end{minipage}
  \end{lrbox}
  %% Autocrop \titlegraphic (inspired by https://tex.stackexchange.com/a/193558/61499)
  \tikz\node[
    minimum width=\textwidth,
    minimum height=0.375\paperheight,
    path picture={
      \node at (path picture bounding box.center){
        \usebox\mytitlebox
      };
    }]{};
  \end{beamercolorbox}
  \vskip-5pt
  {\color{UBlightgreen}\rule{\textwidth}{7pt}}
  \vskip0pt
  %% Title, subtitle, author, date etc.
  {\usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle\par}%
  \vskip0.6ex
  {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle}
  \vskip0pt plus 1filll
  \ifx\insertdate\@empty%
  \else%
  {\usebeamerfont{date}\usebeamercolor[fg]{date}\insertdate}, %
  \fi
  {\usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor}%
  \par
}

\mode<all>
#+END_SRC

#+NAME: beamerouterthemeBielefeld.sty
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerouterthemeBielefeld.sty
\mode<presentation>

\setbeamertemplate{navigation symbols}{}
\defbeamertemplate*{sidebar}{Bielefeld}{}

% Frame title
\setbeamercolor{frametitle}{fg=black}
\setbeamerfont{frametitle}{size=\large,series=\bfseries}
% \defbeamertemplate*{frametitle}{Bielefeld}[1][]
% {
% \vspace*{2mm}
% \usebeamerfont{frametitle}\insertframetitle
% \vspace*{-1.5mm}
% }

%   \defbeamertemplate*{headline}{Bielefeld} %headline format
%   {
%   \vspace*{2.5mm}
%   \begin{beamercolorbox}[wd=\paperwidth,leftskip=1.01cm,rightskip=1.01cm]
%   {headline}
%   \hspace*{0mm}
%   \insertheadlinelogo
%   \end{beamercolorbox}
% }

\defbeamertemplate*{frametitle}{Bielefeld}[1][left] % inspired by the definition of the default frametitle
{%
  % \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
  % \@tempdima=\textwidth%
  % \advance\@tempdima by\beamer@leftmargin%
  % \advance\@tempdima by\beamer@rightmargin%
  \hspace{-0.475cm}               %due to sep in beamercolorbox
  \begin{beamercolorbox}[sep=0.35cm,#1,wd=.82\textwidth]{frametitle}
  \usebeamerfont{frametitle}%
  % \vbox{}\vskip-1ex%
  \vbox{}\vskip-0.8ex%
  \if@tempswa\else\csname beamer@fte#1\endcsname\fi%
  \strut\insertframetitle\strut\par%
  {%
    \ifx\insertframesubtitle\@empty%
    \else%
    {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\strut\par}%
    \fi
  }%
  \vskip-1ex%
  \if@tempswa\else\vskip-.3cm\fi% set inside beamercolorbox... evil here...
  \end{beamercolorbox}%
}

\addtobeamertemplate{frametitle}{}{%
  \begin{tikzpicture}[remember picture,overlay]
  \node[anchor=north east,xshift=-0.5cm,yshift=0.2ex] at (current page.north east) {\insertheadlinelogo};
  % \node[anchor=north west,xshift=0.8cm,yshift=0.2ex] at (current page.north west) {\insertheadlinelogo};
  \end{tikzpicture}}


\setbeamerfont{footline}{size=\tiny}
\defbeamertemplate*{footline}{Bielefeld} %footline format
{
  \begin{beamercolorbox}[wd=\paperwidth,leftskip=1cm,rightskip=1cm]
  {footline} 
  {\color{UBlightgreen}\vhrulefill{0.2pt}}
  \end{beamercolorbox} \begin{beamercolorbox}[wd=\paperwidth,leftskip=1cm,rightskip=1cm,ht=0.37cm,dp=0.25cm]{footline} 
  ~\insertframenumber{} | %
  \insertshortauthor%
  \ifx\insertinstitute\@empty%
  \else%
  \ (\insertshortinstitute)%
  \fi%
  , \insertshorttitle%
  \ifx\insertdate\@empty%
  \else%
  , \insertshortdate
  \fi
  % \fussnote \hfill \crtext \hspace*{20mm}
  \end{beamercolorbox}
}

\mode<all>
#+END_SRC

#+NAME: beamerlogosBielefeld.tex
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/themes/beamerlogosBielefeld.tex
\titlelogo{%
  \includegraphics[width=3.967cm, keepaspectratio=true]{beamer-template/graphics/UB-LiLi-logo.pdf}
}

%% Old version with relative measures
% \titlelogo{%
% \includegraphics[width=.31\paperwidth, keepaspectratio=true]{beamer-template/graphics/UT-logo.pdf}
% \hskip0.4cm 
%   %% Trajan
% \begin{minipage}[t]{0.5\textwidth}
% \vskip-0.104\paperheight
% \includegraphics[width=.45\paperwidth, keepaspectratio=true]{beamer-template/graphics/UT-MNF-FBI-logo.pdf}
% \end{minipage}%
%   %% Trajan + Arial
%   % \begin{minipage}[t]{0.5\textwidth}
%   % \setlength{\baselineskip}{11pt}
%   % \vskip-0.108\paperheight
%   % \includegraphics[width=.45\paperwidth, keepaspectratio=true]{beamer-template/graphics/UT-MNF-logo.pdf}\newline
%   % \upshape\sffamily\color{UTred}\fontsize{7}{10}\selectfont\textbf{Fachbereich Informatik}
%   % \end{minipage}%
% }

\headlinelogo{%
  \includegraphics[width=2.52cm, keepaspectratio=true]{beamer-template/graphics/UB-LiLi-logo.pdf}
}      

\titlegraphic{
% TODO
}
#+END_SRC

* Packages

** tikz-settings.sty

Some templates require it to have the tikz settings in a separate sty-file.

#+BEGIN_SRC latex :noweb yes :tangle templates/jlm-template/packages/tikz-settings.sty
<<tikz-settings.sty>>
#+END_SRC

#+BEGIN_SRC latex :noweb yes :tangle templates/langscibook-template/packages/tikz-settings.sty
<<tikz-settings.sty>>
#+END_SRC

#+NAME: tikz-settings.sty
#+BEGIN_SRC latex :noweb yes
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{tikz-settings}

<<tikz-settings>>

<<forest-settings>>

\endinput
#+END_SRC

** COMMENT textpos-settings.sty

#+NAME: textpos-settings.sty
#+BEGIN_SRC latex :noweb yes :tangle packages/textpos-settings.sty
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{textpos-settings}

<<textpos-settings>>

\endinput
#+END_SRC

* Bundled settings

** Abstract settings

#+NAME: abstract-options
#+BEGIN_SRC latex
12pt,a4paper
#+END_SRC

#+NAME: abstract-settings
#+BEGIN_SRC latex
\input{text-template/text-settings}

\usepackage[left=25mm, right=25mm, top=25mm, bottom=25mm, noheadfoot]{geometry}
\pagenumbering{gobble}
\PassOptionsToPackage{maxbibnames=1,maxcitenames=1,firstinits=true}{biblatex}
\defbibenvironment{bibliography}{\noindent}{\unspace}{\xspace$\bullet$\xspace}
\makeatletter
\renewcommand\maketitle{
  ~\vspace{-1.1cm}\newline
  {\raggedright
    \renewcommand{\baselinestretch}{1.2}\selectfont
  {\bfseries\large\@title}\\[2ex]
  {\large\@author}\\[2ex]
  }
}
\makeatother

#+END_SRC

** Article settings

#+NAME: article-options
#+BEGIN_SRC latex
11pt,draft,twoside
#+END_SRC


#+NAME: article-settings
#+BEGIN_SRC latex
\input{text-template/scrarticle-settings}
\input{text-template/text-settings}
#+END_SRC

** Beamer settings

#+NAME: beamer-options
#+BEGIN_SRC latex
10pt, % 8pt, 9pt, 10pt, 11pt, 12pt, 14pt, 17pt, 20pt
% serif,
% table, % for table coloring
% draft,
% ngerman,
% handout,	% remove overlays
compress,
xcolor=table,
dvipsnames,
aspectratio=43,
#+END_SRC

#+NAME: beamer-options-org
#+BEGIN_SRC latex
[compress,xcolor=table,dvipsnames,10pt,aspectratio=43] 
#+END_SRC

#+NAME: beamer-settings
#+BEGIN_SRC latex
\input{beamer-template/beamer-settings.tex}
#+END_SRC

#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/beamer-settings.tex
<<pdflatex-settings>>

\usepackage{etex} 
\usepackage{graphics}

<<tikz-settings>>

<<forest-settings>>

\usepackage{url}
\usepackage{amsmath,amssymb,amsfonts,marvosym}
\usepackage{ulem}			% to cross out text
\normalem

\usepackage{ragged2e}
\let\raggedright=\RaggedRight

% \usepackage{tipa}
\usepackage{linguex}   % must be loaded below \usepackage[T1]{fontenc}
\AtBeginDocument{
  \setlength{\Exlabelsep}{0em}		% for linguex examples
  \setlength{\SubExleftmargin}{1,5em}	% for linguex examples
  \renewcommand\eachwordone{\sffamily}	% for glossing with linguex
  \renewcommand\eachwordtwo{\sffamily}	% for glossing with linguex
  % \setlength{\Extopsep}{1ex}   % vertical margin in linguex examples
}

\usepackage{beamer-template/packages/avm}
<<avm-settings>>

<<listings-settings>>

%% Bibliography

%% BibLaTeX
\newcommand{\mycitestyle}{beamer-template/bst/biblatex-sp-unified/cbx/sp-authoryear-comp}
\newcommand{\mystyle}{beamer-template/bst/biblatex-sp-unified/bbx/biblatex-sp-unified}
<<biblatex-settings>>

%% BibTeX 
% \input{settings/natbib_bibtex_setup.tex} 
% \PassOptionsToPackage{round}{natbib}
% \renewcommand{\newblock}{}    % to make natbib compatible with beamer

<<textpos-settings>>

#+END_SRC

** Book settings

#+NAME: book-options
#+BEGIN_SRC latex
11pt,
bibliography=totoc,
numbers=noenddot,
% draft
#+END_SRC

#+NAME: book-settings
#+BEGIN_SRC latex
\usepackage{datetime}

\input{text-template/text-settings}
#+END_SRC

** Text settings

#+BEGIN_SRC latex :noweb yes :tangle templates/teaching-template/settings/text-settings.tex
<<text-settings(nw-mycitestylepath="bst/biblatex-sp-unified/cbx/sp-authoryear-comp",nw-mystylepath="bst/biblatex-sp-unified/bbx/biblatex-sp-unified",nw-avmpath="packages/avm")>>
#+END_SRC

#+NAME: text-settings
#+BEGIN_SRC latex :noweb yes :tangle templates/text-template/text-settings.tex :var nw-mycitestylepath="text-template/bst/biblatex-sp-unified/cbx/sp-authoryear-comp" nw-mystylepath="text-template/bst/biblatex-sp-unified/bbx/biblatex-sp-unified" nw-avmpath="text-template/packages/avm"
<<pdflatex-settings>>

%% Trees and graphics
\usepackage{graphics}

<<tikz-settings>>

<<forest-settings>>

% \usepackage{arydshln} 		    % for dashed horizontal lines in tables (incompatible with avm)
\usepackage{multirow}           % similar to \multicolumn

%% Symbols
\usepackage{latexsym,amsmath,amssymb,wasysym}
\usepackage{marvosym}           % for thunderbolt symbol
\usepackage{ulem}               % to cross out text
\normalem
\usepackage{url}
\urlstyle{tt}                   % tt,rm,sf,same

%% Linguistics
\usepackage{tipa}	% for phonetic symbols; has to appear before fontspec
\usepackage{linguex}
\renewcommand{\firstrefdash}{}

\usepackage{nw-avmpath}
<<avm-settings>>

% \usepackage[inference]{semantic} % for CCG 
% \usepackage{packages/ccg}

%% Bibliography
\newcommand{\mycitestyle}{nw-mycitestylepath}
\newcommand{\mystyle}{nw-mystylepath}
<<biblatex-settings>> 
% \input{settings/natbib_bibtex_setup.tex} 

% Hyperrefs in PDF 
<<hyperrefs-settings>>

%% for blindtext
\usepackage{lipsum}

#+END_SRC

** Poster settings

#+NAME: poster-settings
#+BEGIN_SRC latex :noweb yes :tangle templates/poster-template/poster-settings.tex
%%%%%%%%%%%%%%%%%%%%%%
%   FONT             % 
%%%%%%%%%%%%%%%%%%%%%%

\usepackage[english]{babel}
\usepackage[T1]{fontenc}
%\usepackage{ucs}
\usepackage[utf8]{inputenc}
%\usepackage[utf8x]{inputenc} 
%\usepackage{helvet}
%\usepackage{avant}
\usepackage{DejaVuSans}
\usepackage[scaled=0.9]{beramono}  % for monospaced font
\renewcommand*{\familydefault}{\sfdefault}

\newcommand{\mycitestyle}{poster-template/bst/biblatex-sp-unified/cbx/sp-authoryear-comp}
\newcommand{\mystyle}{poster-template/bst/biblatex-sp-unified/bbx/biblatex-sp-unified}
<<biblatex-settings>>

%%%%%%%%%%%%%%%%%%%%%%
%   MISC             % 
%%%%%%%%%%%%%%%%%%%%%%

\usepackage{xcolor,enumitem}
\usepackage{linguex,poster-template/packages/avm} 
\usepackage{amsmath,amssymb,amsfonts,marvosym}
\usepackage{ulem}			% to cross out text
\normalem

\usepackage{multicol}
\usepackage{colortbl}
\usepackage{booktabs}

<<listings-settings>>

<<forest-settings>>

#+END_SRC

#+NAME: poster-style
#+BEGIN_SRC latex :noweb yes :tangle templates/poster-template/poster-style.tex
%\usetheme{Basic}	% Default, Rays, Basic, Simple, Envelope, Wave, Board, Autumn, and Desert

\usetitlestyle[
	width=750mm,
	linewidth=2pt,
	titletoblockverticalspace=0mm
	]{Filled}	% Default, Basic, Envelope, Wave, VerticalShading, Filled, Empty.

%\usecolorpalette{Default}	% Default, BlueGrayOrange, GreenGrayViolet, PurpleGrayBlue, BrownBlueOrange

%\usecolorstyle{Germany}	% Default, Australia, Britain, Sweden, Spain, Russia, Denmark, Germany

\usebackgroundstyle{Empty}  % Default, Rays, VerticalGradation, BottomVerticalGradation, Empty 

\useblockstyle[roundedcorners=5,linewidth=2pt]{Default} % Default, Basic, Minimal, Envelope, Corner, Slide, TornOut

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \settitle{
% 	\@titlegraphic \\[\TP@titlegraphictotitledistance] \centering
% 	\color{titlefgcolor} {\bfseries \Huge \sc \@title \par}
% 	\vspace*{1em}
% 	{\huge \@author \par} \vspace*{1em} {\LARGE \@institute}
% }

% \settitle{
% 	\centering
% 	\color{titlefgcolor} {\bfseries \Huge \sc \@title \par}
% 	\vspace*{2em}
% 	{\huge \@author \par} \vspace*{1em} {\LARGE \@institute}

% 	\raisebox{0cm}[0pt]{\@titlegraphic}
% }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \definetitlestyle{sampletitle}{
% 	width=500mm, roundedcorners=20, linewidth=2pt, innersep=5pt,
% 	titletotopverticalspace=15mm, titletoblockverticalspace=30mm
% }{
% 	\begin{scope}[line width=\titlelinewidth, rounded corners=\titleroundedcorners]
% 		\draw[color=blocktitlebgcolor, fill=titlebgcolor] (\titleposleft,\titleposbottom) rectangle (\titleposright,\titlepostop);
% 	\end{scope}
% }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \defineblockstyle{sampleblockstyle}{
% 	titlewidthscale=0.9, bodywidthscale=1,titleleft,
% 	titleoffsetx=0pt, titleoffsety=0pt, bodyoffsetx=0mm, bodyoffsety=15mm,
% 	bodyverticalshift=10mm, roundedcorners=5, linewidth=2pt,
% 	titleinnersep=6mm, bodyinnersep=1cm
% }{
% 	\draw[color=framecolor, fill=blockbodybgcolor,
% 		rounded corners=\blockroundedcorners] (blockbody.south west)
% 		rectangle (blockbody.north east);
% 	\ifBlockHasTitle
% 		\draw[color=framecolor, fill=blocktitlebgcolor,
% 			rounded corners=\blockroundedcorners] (blocktitle.south west)
% 			rectangle (blocktitle.north east);
% 	\fi
% }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \definecolorstyle{sampleColorStyle} {
% 	\definecolor{colorOne}{named}{blue}
% 	\definecolor{colorTwo}{named}{yellow}
% 	\definecolor{colorThree}{named}{orange}
% }{
% 	% Background Colors
% 	\colorlet{backgroundcolor}{colorOne}
% 	\colorlet{framecolor}{black}
% 	% Title Colors
% 	\colorlet{titlefgcolor}{black}
% 	\colorlet{titlebgcolor}{colorOne}
% 	% Block Colors
% 	\colorlet{blocktitlebgcolor}{colorThree}
% 	\colorlet{blocktitlefgcolor}{white}
% 	\colorlet{blockbodybgcolor}{white}
% 	\colorlet{blockbodyfgcolor}{black}
% 	% Innerblock Colors
% 	\colorlet{innerblocktitlebgcolor}{white}
% 	\colorlet{innerblocktitlefgcolor}{black}
% 	\colorlet{innerblockbodybgcolor}{colorThree!30!white}
% 	\colorlet{innerblockbodyfgcolor{black}
% 	% Note colors
% 	\colorlet{notefgcolor}{black}
% 	\colorlet{notebgcolor}{colorTwo!50!white}
% 	\colorlet{noteframecolor}{colorTwo}
% }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \definebackgroundstyle{samplebackgroundstyle}{
% 	\draw[inner sep=0pt, line width=0pt, color=red, fill=backgroundcolor!30!black]
% 	(bottomleft) rectangle (topright);
% }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
#+END_SRC

* Package settings

** Forest

#+NAME: forest-settings
#+BEGIN_SRC latex :noweb yes
%%%%%%%%%%%%%%%%%%%%%%% 
%   FOREST SETTINGS   % 
%%%%%%%%%%%%%%%%%%%%%%% 

\usepackage{forest}

\makeatletter

\@ifpackagelater{forest}{2016/01/01}
{\useforestlibrary{linguistics}%
 \useforestlibrary{edges}}
{}

\@ifpackagelater{forest}{2016/01/01}
{\newcommand{\forestPreamble}{default preamble}} % version >=2 of forest
{\newcommand{\forestPreamble}{.style}} % version <=1 of forest

\makeatother

\forestset{
  \forestPreamble ={
    % .style={ % version <=1 of forest
    % default preamble={ % version >=2 of forest    
		for tree={
			parent anchor=south, 
			child anchor=north,
			% align=center,			% bad: adds space below label
			fit=rectangle,
			base=top,				% vertical orientation of nodes
			% inner sep=3,			% necesssary?
			begin draw/.code={\begin{tikzpicture}[baseline=(current bounding box.center)]},
    }},
  htree/.style={for tree={grow'=east,parent anchor=east,child anchor=west,anchor=base west}},
  sn edges/.style={for tree={parent anchor=south, child anchor=north}},
  red subtree/.style={for tree={text=red},for descendants={edge=red}},
  black subtree/.style={for tree={text=black},for descendants={edge=black}},
  blue subtree/.style={for tree={text=blue},for descendants={edge=blue}},
  green subtree/.style={for tree={text=green},for descendants={edge=green}},
  gray subtree/.style={for tree={text=gray},for descendants={edge=gray}},
  color subtree/.style={for tree={text=#1},for descendants={edge={draw=#1}}},
  subtree color/.style={for tree={text=#1},for descendants={edge={draw=#1}}},
  vcenter/.style={begin draw/.code={\begin{tikzpicture}[baseline=(current bounding box.center)]}},
  empty nodes/.style={	% from the forest manual
    for tree={
      % calign=fixed edge angles,
      yshift=1ex},
    delay={where content={}{shape=coordinate,for parent={for children={anchor=north}}}{}}},
  derivation tree/.style={.style={
      for tree={parent anchor={},child anchor={},font=\ttfamily}}},
  derivation/.style={for children={fit=tight}},
  description/.style={
    for tree={parent anchor={},child anchor={},edge=->}},
  dt label/.style 2 args={
    edge label={node[midway,font=\ttfamily\scriptsize, #1]{#2}},},
  %% for drawing STUG sequences
  %% conn, <-- and --> are take from https://tex.stackexchange.com/a/414444/61499
  conn/.style n args=2{
    tikz+={\draw [dashed] (#1) -- (#2);}},
  -->/.style={ % draw horizontal line to predecessor
    before drawing tree={
      temptoksa=,
      tempcounta/.option=level,
      if nodewalk valid={n}{conn={}{!n}}{
        for nodewalk={
          while nodewalk valid={u}{
            tempcountb/.option=n,
            u,
            if={> OR>{n children}{tempcountb} }{
              tempcountc/.register=tempcountb,
              tempcountc'+=1,
              n/.register=tempcountc,
              while nodewalk valid={1}{
                1,
                if={ > OR= {level}{tempcounta} }{
                  temptoksa/.option=name,
                  break=1
                }{}
              }
            }{}
          }
        }{},
        if temptoksa={}{}{conn/.process={_R {}{temptoksa}}}
      },
    },
  },
  <--/.style={ % draw horizontal line to successor
    before drawing tree={
      temptoksa=,
      tempcounta/.option=level,
      if nodewalk valid={p}{conn={}{!p}}{
        for nodewalk={
          while nodewalk valid={u}{
            u,
            if n=1{}{
              p,
              while nodewalk valid={last}{
                last,
                if={ > OR= {level}{tempcounta} }{
                  temptoksa/.option=name,
                  break=1
                }{}
              }
            },
          }
        }{},
        if temptoksa={}{}{conn/.process={_R {}{temptoksa}}}
      },
    },
  },
  t/.style={calign with current}, % trunk 
  lex/.style={                    % terminal nodes with lexical material
    no edge,
    for parent={l sep=0ex},
    yshift=3ex,
    draw=gray,
    content={\textit{##1}}},
  c/.style args={#1}{            % visual link with argument
    % edge label={node[xshift={0.8em},scale=0.8,fill=white,draw,inner sep=.10ex,circle]{#1}}
    % tikz={\node[yshift={1.5ex},scale=0.8,fill=white,draw,inner sep=.10ex,circle, right=-0.5em of .east]  {1};}
    label={[yshift={0.5ex},scale=.8,circle, draw, fill=white, inner sep=.1ex, label distance=-.65em, anchor=west]north east:#1}},
  Xs/.style={for tree={xshift=#1}},
  Ys/.style={for tree={yshift=#1}},
  %% Beamer overlays (https://tex.stackexchange.com/a/253384/61499)
  invisible/.style={%
    for tree={%
      /tikz/invisible={#1},
      edge={/tikz/invisible={#1}}}},
  visible/.style={%
    for tree={%
      /tikz/visible={#1},
      edge={/tikz/visible={#1}}}},
  visible ancestors/.style={%
    edge={/tikz/visible={#1}},
    for ancestors={%
      /tikz/visible={#1},
      edge={/tikz/visible={#1}}}},
  opaque/.style={%
    for tree={%
      /tikz/opaque={#1},
      edge={/tikz/opaque={#1}}}},
  alert/.style={%
    for tree={%
      /tikz/alert={#1},
      edge={/tikz/alert={#1}}}},
  only/.code args={<#1>}{% https://tex.stackexchange.com/a/417110/61499
    \alt<#1>{}{\pgfkeysalso{before typesetting nodes={remove}}}},
  unify children/.style={
    if nodewalk valid={1}{
      l sep=5pt,
      for children={l=0mm},
      for nodewalk={1}{
        for siblings={no edge},
        edge={decorate, decoration={brace, amplitude=5pt}},
        edge path'={(!u1.west |- .north) -- (!ul.east |- .north)}
      }}{}}
}

#+END_SRC

** AVM

#+NAME: avm-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%
%   AVM SETTINGS     % 
%%%%%%%%%%%%%%%%%%%%%%

\avmoptions{center,topright}  % topright determines the position of \osort
\avmfont{\scshape}
\avmvalfont{\normalfont}
\avmsortfont{\normalfont\itshape}

\newenvironment{topbot}{   	% more flexible than /newcommand ?
	\avmvskip{0.2ex} 
	\hspace{-1.5em}
	\begin{avm}
	\avml
	}
	%%%
	{
	\avmr
    \end{avm}
    \hspace{-0.5em}
}
#+END_SRC

** TODO BibLaTeX
:LOGBOOK:
- State "TODO"       from              [2017-08-18 Fr 08:15]
:END:

- [ ] add =\abstractTrue=

#+NAME: biblatex-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%%
%   BIBLATEX SETTINGS  % 
%%%%%%%%%%%%%%%%%%%%%%%%
\makeatletter
\@ifclassloaded{beamer}{\renewcommand{\mycitestyle}{numeric-comp}}{}
\@ifclassloaded{tikzposter}{\renewcommand{\mycitestyle}{numeric-comp}}{}
\makeatother

\usepackage[
  natbib=true,
  style=\mystyle,
  citestyle=\mycitestyle,
  %refsection=chapter,
  maxbibnames=99,
  isbn=false,
  doi=false,
  eprint=false,
  backend=biber,
  % sorting=ydnt,  % sort in descending chronological order
  indexing=cite,
  labelnumber,  % for numeric bibliography in beamer
  %toc=bib    % make bibliography appear in toc, incompatible with beamer
  ]{biblatex}
\renewcommand{\postnotedelim}{: }%
\renewcommand{\multicitedelim}{\addsemicolon\space}%
\renewcommand{\compcitedelim}{\multicitedelim}%
\DeclareFieldFormat{postnote}{#1}%

%% beamer settings
\makeatletter
\@ifclassloaded{beamer}{  
  \DeclareFieldFormat{labelnumberwidth}{[#1]}
  \defbibenvironment{bibliography}  % from numeric.bbx
      {\list
        {\printtext[labelnumberwidth]{%
          \printfield{prefixnumber}%
          \printfield{labelnumber}}}
        {\setlength{\labelwidth}{\labelnumberwidth}%
            \setlength{\leftmargin}{\labelwidth}%
            \setlength{\labelsep}{1em}%
            \addtolength{\leftmargin}{1em}%
            \setlength{\itemsep}{\bibitemsep}%
            \setlength{\parsep}{\bibparsep}}%
            \renewcommand*{\makelabel}[1]{\hss##1}}
      {\endlist}
      {\item}
    % \DeclareCiteCommand{\supercite}[\mkbibsuperscript]{
    %   \iffieldundef{prenote}
    %     {}
  %     {\BibliographyWarning{Ignoring prenote argument}}%
  %   \iffieldundef{postnote}
  %     {}
  %     {\BibliographyWarning{Ignoring postnote argument}}}
    %   {\usebibmacro{citeindex}%
  %      \color{gray}\bibopenbracket\usebibmacro{cite}\bibclosebracket}
    %   {\supercitedelim}
    %   {}
    \DeclareCiteCommand{\supercite}[\mkbibsuperscript]
      {\color{gray} % added color
      \usebibmacro{cite:init}%
      \let\multicitedelim=\supercitedelim
      \iffieldundef{prenote}
        {}
        {\BibliographyWarning{Ignoring prenote argument}}%
      \iffieldundef{postnote}
        {}
        {\BibliographyWarning{Ignoring postnote argument}}%
      \bibopenbracket}%
      {\usebibmacro{citeindex}%
       \usebibmacro{cite:comp}}
      {}
      {\usebibmacro{cite:dump}\bibclosebracket}

  \DeclareCiteCommand{\citeauthor}  % from sp-authoryear-comp.cbx; to add hyperref link  
    {\boolfalse{citetracker}%
     \boolfalse{pagetracker}%
     \usebibmacro{prenote}}
    {\ifciteindex
       {\indexnames{labelname}}
       {}%
     \printtext[bibhyperref]{\printnames{labelname}}}
    {\multicitedelim}
    {\usebibmacro{postnote}}

  \DeclareCiteCommand{\citeyear}  % from sp-authoryear-comp.cbx; to add hyperref link  
    {\boolfalse{citetracker}%
     \boolfalse{pagetracker}%
     \usebibmacro{prenote}}
    {\printfield[bibhyperref]{year}}
    {\multicitedelim}
    {\usebibmacro{postnote}}
}{}
\makeatother

%% tikzposter settings
\makeatletter
\@ifclassloaded{tikzposter}{  
\DeclareFieldFormat{labelnumberwidth}{#1}
\defbibenvironment{bibliography}
{\footnotesize\noindent}
{\unspace}
{}
\renewbibmacro*{begentry}{%
\textbf{\color{HHUblue}%
\printtext[labelnumberwidth]{%
[\printfield{prefixnumber}%
\printfield{labelnumber}]}%
\space
%\setunit{\addspace}
}}
\renewcommand*{\finentrypunct}{\addperiod\space}

\DeclareCiteCommand{\supercite}[\mkbibsuperscript]
{\color{gray} % added color
\usebibmacro{cite:init}%
\let\multicitedelim=\supercitedelim
\iffieldundef{prenote}
{}
{\BibliographyWarning{Ignoring prenote argument}}%
\iffieldundef{postnote}
{}
{\BibliographyWarning{Ignoring postnote argument}}%
\bibopenbracket}%
{\usebibmacro{citeindex}%
\usebibmacro{cite:comp}}
{}
{\usebibmacro{cite:dump}\bibclosebracket}

\DeclareCiteCommand{\citeauthor}  % from sp-authoryear-comp.cbx; to add hyperref link  
{\boolfalse{citetracker}%
\boolfalse{pagetracker}%
\usebibmacro{prenote}}
{\ifciteindex
{\indexnames{labelname}}
{}%
\printtext[bibhyperref]{\printnames{labelname}}}
{\multicitedelim}
{\usebibmacro{postnote}}

\DeclareCiteCommand{\citeyear}  % from sp-authoryear-comp.cbx; to add hyperref link  
{\boolfalse{citetracker}%
\boolfalse{pagetracker}%
\usebibmacro{prenote}}
{\printfield[bibhyperref]{year}}
{\multicitedelim}
{\usebibmacro{postnote}}
}{}
\makeatother

\addbibresource[datatype=bibtex]{references.bib}

\newcommand{\insertBib}{
  \printbibliography[
    %notkeyword=this
    ] 
}

\let\cite=\citet  % in order to prevent inconsistencies between \cite and \citet
\newcommand{\citeauthoryear}[1]{\citeauthor{#1} (\citeyear{#1})}
\newcommand{\citealtauthoryear}[1]{\citeauthor{#1} \citeyear{#1}}

#+END_SRC

** Hyperrefs

#+NAME: hyperrefs-settings
#+BEGIN_SRC latex
% Hyperrefs in PDF 
\usepackage[bookmarks=true,bookmarksopen=true,%
  hyperindex=true,%
  breaklinks=true,
  draft=false,plainpages=false,
  pdfauthor={},%
  pdfkeywords={},%
  ]{hyperref}
\hypersetup{colorlinks=false, pdfborder={0 0 0}}

\IfLanguageName{english}{
  \renewcommand{\chapterautorefname}{Chapter}%
  \renewcommand{\figureautorefname}{Figure}%
  \renewcommand{\tableautorefname}{Table}%
  \renewcommand{\sectionautorefname}{Section}%
  \renewcommand{\subsectionautorefname}{Section}%
  \renewcommand{\subsubsectionautorefname}{Section}%
  \renewcommand{\Hfootnoteautorefname}{Footnote}%
}{}
#+END_SRC

** Listings

#+NAME: listings-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%% 
% LISTINGS SETTINGS  % 
%%%%%%%%%%%%%%%%%%%%%%%% 
\usepackage{listings}

\lstset{basicstyle=\ttfamily,tabsize=2,breaklines=true}
\usepackage{color}
\definecolor{lightgray}{gray}{0.7}

\lstnewenvironment{xmg}{%
  \lstset{language=,
    numbers=left,numbersep=8pt,numberstyle=\color{lightgray},
    % frame=l,
    basicstyle=\small\ttfamily,%
    xleftmargin=0.7cm,framexleftmargin=12pt,%
    framerule=0.5mm,rulecolor=\color{lightgray},%
    escapeinside={|\%}{\%|},%
    commentstyle=\color{lightgray},
    literate={->}{{{\textbf{->}}}}1 {<-}{{{\textbf{<-}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {\;}{{{\textbf{;}}}}1 {|}{{{\textbf{|}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1 {?}{{{\textbf{?}}}}1 {*=}{{{\textbf{*=}}}}1,% 
    morekeywords={node,type,feature,iface,include,class,import,export,declare,syn,sem,value, use, with, dims,frame,morph,lemma,morpho,fam,entry}
  }}{}

\lstdefinestyle{xmg}{
  % keywordstyle = \color{HHUblue}\bfseries,
  % stringstyle=\color{red}\ttfamily,
  commentstyle=\color{lightgray},
  literate={->}{{{\textbf{->}}}}1 {<-}{{{\textbf{<-}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {\;}{{{\textbf{;}}}}1 {|}{{{\textbf{|}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1 {?}{{{\textbf{?}}}}1 {*=}{{{\textbf{*=}}}}1  {'c}{{\'c}}1,% 
  morekeywords={node,type,feature,iface,include,class,import,export,declare,syn,sem,value, use, with, dims,frame,morph,lemma,morpho,fam,entry}
}

\lstnewenvironment{duelme}{%
  \lstset{language=,
    numbers=left,numbersep=8pt,numberstyle=\color{lightgray},
    % frame=l,
    basicstyle=\small\ttfamily,%
    xleftmargin=0.7cm,framexleftmargin=12pt,%
    framerule=0.5mm,rulecolor=\color{lightgray},%
    escapeinside={|\%}{\%|},%
    commentstyle=\color{lightgray},     morekeywords={PATERN,NAME,POS,PATTERN,MAPPING,EXAMPLE,MWE,SENTENCE,DESCRIPTION,COMMENT,LISTA,LISTB,SUBJECT,OBJECT,MODIFIER,RPRON,CONJUGATION,POLARITY,EXPRESSION,CL}}}{}

\lstnewenvironment{patr-listing}{%
  \lstset{language=,
    numbers=left,numbersep=8pt,numberstyle=\color{lightgray},
    % frame=l,
    basicstyle=\small\ttfamily,%
    xleftmargin=0.7cm,framexleftmargin=12pt,%
    framerule=0.5mm,rulecolor=\color{lightgray},%
    escapeinside={|\%}{\%|},%
    commentstyle=\color{lightgray},
    literate={:}{{{\textbf{:}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1, 
    morekeywords={Define,as,Word}}}{}


\newcommand{\ixmg}{%
  \lstinline[language=,keepspaces,%
    literate={->}{{{\textbf{->}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {\;}{{{\textbf{;}}}}1 {|}{{{\textbf{|}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1 {?}{{{\textbf{?}}}}1 {*=}{{{\textbf{*=}}}}1,%
    morekeywords={node,type,feature,include,class,import,export,declare,syn,sem,frame,morph,value, use, with, dims}
    ]}

% \lstset{
% basicstyle=\small\ttfamily,       
%   % stepnumber=1,
% tabsize=2,
% breaklines=true,
% linewidth=\textwidth,
% escapeinside={<ESC>}{</ESC>},
%   % prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rhookswarrow}},
%   % postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rcurvearrowse\space}}
% }           

%   \lstnewenvironment{xmg}{%
%   \lstset{
%   language=,
%   frame=l,
%   basicstyle=\normalsize\ttfamily,%
%   xleftmargin=0.6cm,framexleftmargin=0.3cm,%
%   framerule=0.5mm,rulecolor=\color{lightgray},%
%   escapeinside={<ESC>}{</ESC>},%
%   commentstyle=\color{lightgray},
%   literate={->}{{{\textbf{->}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {\;}{{{\textbf{;}}}}1 {|}{{{\textbf{|}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1 {?}{{{\textbf{?}}}}1 {*=}{{{\textbf{*=}}}}1,% 
%   morekeywords={node,type,feature,include,class,import,export,declare,syn,sem,value, use, with, dims,frame,morph}}}{}

%   \newcommand{\ixmg}{%
%   \lstinline[language=,keepspaces,%
%   literate={->}{{{\textbf{->}}}}1 {\{}{{{\textbf{\{}}}}1 {\}}{{{\textbf{\}}}}}1 {\;}{{{\textbf{;}}}}1 {|}{{{\textbf{|}}}}1 {=}{{{\textbf{=}}}}1 {[}{{{\textbf{[}}}}1 {]}{{{\textbf{]}}}}1 {<}{{{\textbf{<}}}}1 {>}{{{\textbf{>}}}}1 {!}{{{\textbf{!}}}}1 {?}{{{\textbf{?}}}}1 {*=}{{{\textbf{*=}}}}1,%
%   morekeywords={node,type,feature,include,class,import,export,declare,syn,sem,value, use, with, dims,frame,morph}
%   ]}
#+END_SRC

** natbib/BibTeX

#+NAME: natbib_bibtex-settings
#+BEGIN_SRC latex
\usepackage{natbib}
\setlength{\bibsep}{0mm}
%\setcitestyle{notesep={: }} 
\bibpunct[: ]{(}{)}{;}{a}{}{;}
\bibliographystyle{bst/unified}

\newcommand{\insertBib}{
	\bibliography{references}
}

\let\cite=\citet 	% in order to prevent inconsistencies between \cite and \citet
#+END_SRC

** PDFLaTeX

#+NAME: pdflatex-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%%
%   PDFLATEX SETTINGS  % 
%%%%%%%%%%%%%%%%%%%%%%%%

%%   Font & Encoding

% \usepackage{libertine} % libertine tends to cause problems, e.g. when using tipa
% \usepackage[libertine]{newtxmath}
\usepackage{times}

\makeatletter

\@ifclassloaded{beamer}{
  \usepackage{libertine} % libertine tends to cause problems, e.g. when using tipa
  \usepackage[libertine]{newtxmath}}{}

\@ifclassloaded{tikzposter}{
  \usepackage{DejaVuSans} 
  \renewcommand*{\familydefault}{\sfdefault}}{}

\makeatother

\usepackage[scaled=0.8]{beramono}  % for monospaced font
\usepackage{microtype}		% micro-typographic aspects of the fonts
\usepackage[T1]{fontenc}	% special fonts, e.g. for German umlaute

%% compatible with BibLaTeX
\usepackage[utf8]{inputenc}
%% incompabtible with BibLaTeX
% \usepackage{ucs}
% \usepackage[utf8x]{inputenc}

%% Language
%\usepackage{german} % is this useful anymore?
\usepackage[german,english]{babel} % the last language in the options is loaded; the other one can be chosen with \selectlanguage
\usepackage{iflang}                % for language specific settings
#+END_SRC

** scrarticle

#+BEGIN_SRC latex :noweb yes :tangle templates/teaching-template/settings/scrarticle-settings.tex
<<scrarticle-settings>>
#+END_SRC

#+NAME: scrarticle-settings
#+BEGIN_SRC latex :noweb yes :tangle templates/text-template/scrarticle-settings.tex
\usepackage{datetime}
\usepackage{ifdraft}

\newcommand{\newlineTitle}{\\}

\usepackage{scrpage2}
\ohead{\headmark}
\chead{}
\ihead{}
\ifdraft{\ifoot[]{Draft of \today, \currenttime\ -- comments are welcome!}}{}
\cfoot{}
\ofoot[]{\pagemark}
\pagestyle{scrheadings}

\makeatletter

\def\affiliation#1{\gdef\@affiliation{#1}}

\lehead{\@author}
\rohead{\renewcommand{\newlineTitle}{}\@title}

% quotes are indented at one side only.
\renewenvironment{quote}
{\list{}{\rightmargin0pt\leftmargin8mm}%{\rightmargin\leftmargin}%
  \item\relax}
{\endlist}


% quotations are indented at one side only
% there is no indentation at the beginning of the quote
\renewenvironment{quotation}
{\list{}{\listparindent 1.5em%
    % \itemindent    \listparindent
    % \rightmargin   \leftmargin
    \parsep        \z@ \@plus\p@}%
  \item\relax}
{\endlist}

\renewcommand{\maketitle}{
  \thispagestyle{plain}
  {\raggedright
    \ifdraft{{\large\color{gray} (Draft of \today, \currenttime)\par}}{}%
    {\LARGE\sffamily%
      \ifx\@subject\empty\else{(\@subject) }\fi%
      \textbf{\@title}\\[1ex]\par}
    {\Large\@author \\}%
    \@ifundefined{@affiliation}{}
    { \vspace*{1ex}%
      \large\@affiliation \\}}%

  % \vspace*{\baselineskip}%
  % \ifx\@epigram\empty%
  % \else {\epigraph{\@epigram\\[-5ex]}{\@epigramsource}% 
  % \epigram{}\epigramsource{}}% 
  % \fi%
  \vspace*{-3ex}
  \begin{quote}
  \abstract
  \end{quote}
} 

\makeatother

#+END_SRC

** textpos

#+NAME: textpos-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%%%%
%   TEXTPOS SETTINGS    % 
%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{calc}
\usepackage[absolute,overlay]{textpos}
\setlength{\TPHorizModule}{1em}
\setlength{\TPVertModule}{1ex}

\newlength{\textposOriginH}
\newlength{\textposOriginV}
\setlength{\textposOriginH}{10mm}
\setlength{\textposOriginV}{10mm}
\textblockorigin{\textposOriginH}{\textposOriginV}

\newcommand{\freeblock}[2]{
  \begin{textblock}{0.1}(#1)
  #2
  \end{textblock}
}

#+END_SRC

** TODO tabular

- [ ] needs to be tested

#+NAME: tabular-settings
#+BEGIN_SRC latex 
%% Rotate content of tabular cell: \rot{content}
\usepackage{adjustbox}
\newcolumntype{R}[2]{%
  >{\adjustbox{angle=#1,lap=\width-(#2)}\bgroup}%
  l%
  <{\egroup}%
}
\newcommand*\rot{\multicolumn{1}{R{45}{1em}}}% no optional argument here, please!
#+END_SRC

** tikz

#+NAME: tikz-settings
#+BEGIN_SRC latex
%%%%%%%%%%%%%%%%%%%%%%
%   TIKZ SETTINGS    % 
%%%%%%%%%%%%%%%%%%%%%%

\usepackage{tikz}
\usepackage{tikz-dependency}

\tikzset{every tree node/.style={align=center,anchor=north}}	% to allow linebreaks
\usetikzlibrary{calc} % for positioning arrows with ($(t.center)-(1,0)$)
\usetikzlibrary{shapes,decorations}
\usetikzlibrary{backgrounds,fit}
\usetikzlibrary{arrows}
\usetikzlibrary{matrix}
\usetikzlibrary{positioning}
\usetikzlibrary{automata}
\usetikzlibrary{tikzmark}
\usetikzlibrary{decorations.pathreplacing} % needed for braces in unify children

% Define box and box title style (see http://www.texample.net/tikz/examples/boxes-with-text-and-math/)
\tikzstyle{mybox} = [draw=gray, very thick,
    rectangle, rounded corners, inner sep=10pt, inner ysep=17pt,yshift=3pt]
\tikzstyle{fancytitle} =[draw=gray, very thick, fill=white,
    rectangle, rounded corners, inner sep=5pt, inner ysep=5pt]
\tikzstyle{mydouble} = [double distance=1pt]
    
\tikzset{
  %% Define standard arrow tip
  >=stealth',
  %% Define style for boxes
  box/.style={
    rectangle,
    rounded corners,
    draw=black, very thick,
    text width=10em,
    minimum height=2em,
    text centered},
  %% Define arrow style
  arrow/.style={
    ->,
    thick,
    shorten <=2pt,
    shorten >=2pt,},
  %% Beamer overlays (https://tex.stackexchange.com/a/253384/61499)
  invisible/.style={opacity=0,text opacity=0},
  visible/.style={alt=#1{}{invisible}},
  alt/.code args={<#1>#2#3}{%
    \alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}}},
  transparent/.style={opacity=0.1,text opacity=0.1},
  opaque/.style={alt=#1{}{transparent}},
  alerted/.style={color=alerted text.fg},
  alert/.style={alt=#1{alerted}{}},
}

\newcommand\centertikz[1]{\tikz[baseline=(current bounding box.center)]{#1}}
\newcommand\tikzcenter{baseline=(current bounding box.center)}
\newcommand\tikztop{baseline=(current bounding box.north)}

\newcommand\tikztreeset[1]{\matrix [matrix of nodes,left delimiter=\{,right delimiter=\}](set){#1};}
#+END_SRC

* myMacros

#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/myMacros.tex
<<myMacros.tex>>
#+END_SRC

#+BEGIN_SRC latex :noweb yes :tangle templates/poster-template/myMacros.tex
<<myMacros.tex>>
#+END_SRC

#+BEGIN_SRC latex :noweb yes :tangle templates/teaching-template/myMacros.tex
<<myMacros.tex>>
#+END_SRC

#+BEGIN_SRC latex :noweb yes :tangle templates/text-template/myMacros.tex
<<myMacros.tex>>
#+END_SRC

#+BEGIN_SRC latex :noweb yes :tangle templates/jlm-template/myMacros.tex
<<myMacros.tex>>
#+END_SRC

#+BEGIN_SRC latex :noweb yes :tangle templates/langscibook-template/myMacros.tex
<<myMacros.tex>>
#+END_SRC

#+BEGIN_SRC latex :noweb yes :tangle templates/standalone-template/myMacros.tex
<<myMacros.tex>>
#+END_SRC

#+NAME: myMacros.tex
#+BEGIN_SRC latex :noweb yes
%%%%%%%%%%%%%%%%%%%%%%
%   TODONOTES        % 
%%%%%%%%%%%%%%%%%%%%%%
 
\usepackage{soul}   % for text highlighting
\usepackage[textsize=scriptsize,textwidth=2.5cm]{todonotes}
\newcommand{\todoregion}[2]{\hl{#1}\todo{#2}}    

%%%%%%%%%%%%%%%%%%%%%% 
%   SYMBOLS          % 
%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\bsp}[1]{\textit{#1}}
\newcommand{\am}{\parallel}
\newcommand{\unify}{\sqcup}
\newcommand{\word}{\overline}
\newcommand{\Nonterminals}{\mathcal{N}}
\newcommand{\Terminals}{\Sigma}
\newcommand{\Productions}{\mathcal{P}}

\newcommand{\svar}[1]
{\setbox2=\hbox{$\scriptstyle #1$}\lower.2ex\vbox{\hrule
    \hbox{\vrule\kern1.25pt 
      \vbox{\kern1.25pt\box2\kern1.25pt}\kern1.25pt\vrule}\hrule}}
\newcommand{\ssvar}[1]
{\setbox2=\hbox{\scalebox{.7}{$#1$}}\lower.3ex\vbox{\hrule
    \hbox{\vrule\kern1pt 
      \vbox{\kern1pt\box2\kern1pt}\kern1pt\vrule}\hrule}}
\newcommand{\anvar}{\rule{0.4em}{0.4pt}\,}
\newcommand{\trace}[0]{\raisebox{1pt}{\underline{$~~~$}}}

% Taken from https://tex.stackexchange.com/a/60253/61499
\makeatletter
\newcommand*\rel@kern[1]{\kern#1\dimexpr\macc@kerna}
\newcommand*\widebar[1]{%
  \begingroup
  \def\mathaccent##1##2{%
    \rel@kern{0.8}%
    \overline{\rel@kern{-0.8}\macc@nucleus\rel@kern{0.2}}%
    \rel@kern{-0.2}%
  }%
  \macc@depth\@ne
  \let\math@bgroup\@empty \let\math@egroup\macc@set@skewchar
  \mathsurround\z@ \frozen@everymath{\mathgroup\macc@group\relax}%
  \macc@set@skewchar\relax
  \let\mathaccentV\macc@nested@a
  \macc@nested@a\relax111{#1}%
  \endgroup
}
\makeatother

%% Dingbats, i.e. symbolic, decorative glyphs
\RequirePackage{pifont}
\newcommand{\cmark}{\ding{51}}  % checkmark
\newcommand{\xmark}{\ding{55}}  % xmark

\DeclareMathOperator*{\argmax}{argmax}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%   COLORS & HIGHLIGHTING          % 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\definecolor{myblue}{rgb}{0,0,0.70}
\definecolor{myred}{rgb}{0.8,0,0}
\definecolor{mydarkgreen}{rgb}{0,0.55,0}

\newcommand{\emphR}[1]{{\color{myred}#1}}

%%%%%%%%%%%%%%%%%%%%%%
%   MISCELLANEOUS    % 
%%%%%%%%%%%%%%%%%%%%%%

% \newcommand{\circled}[1]{\textcircled{\raisebox{-0.9pt}{#1}}}
\DeclareRobustCommand\circled[1]{\tikz[baseline=(char.base)]{ % works better compared to \newcommand*
    \node[shape=circle,draw,inner sep=.15ex] (char) {\small{#1}};}}
% \usepackage{circledsteps}       % provides the macro \Circled; not included in TeXLive 2018
% \newcommand{circled}[1]{\Circled{#1}}


\newcommand{\prule}[3]{
      $\begin{array}{c} #1\\ \hline
                        #2\end{array} ~~ #3$}

\newcommand{\minitab}[2][c]{\begin{tabular}{@{}#1@{}}#2\end{tabular}}

\newlength{\stmueTmp}
\newcommand*{\hspaceThis}[1]{\settowidth{\stmueTmp}{#1}\hspace*{\stmueTmp}}

\newenvironment{changemargin}[2]{%
  \begin{list}{}{%
    \setlength{\topsep}{0pt}%
    \setlength{\leftmargin}{#1}%
    \setlength{\rightmargin}{#2}%
    \setlength{\listparindent}{\parindent}%
    \setlength{\itemindent}{\parindent}%
    \setlength{\parsep}{\parskip}%
  }%
  \item[]}{\end{list}}
  
% \newtheorem{definition}{Definition}
% \newtheorem{corollary}{Corollary}
% \newtheorem{theorem}{Theorem}

\newcommand\redout{\bgroup\markoverwith{\textcolor{red}{\rule[.4ex]{2pt}{1pt}}}\ULon}

\newcommand{\largerpage}[1][1]{
  \enlargethispage{#1\baselineskip}}
#+END_SRC

* Examples

** Teaching

#+NAME: hausarbeit-examples
#+BEGIN_SRC latex :noweb yes :tangle templates/teaching-template/examples/hausarbeit-examples.tex

<<book-examples>>

#+END_SRC

#+NAME: essay-examples
#+BEGIN_SRC latex :noweb yes :tangle templates/teaching-template/examples/essay-examples.tex

<<article-examples>>

#+END_SRC

** Text

#+NAME: abstract-examples
#+BEGIN_SRC latex :noweb yes :tangle templates/text-template/abstract-examples.tex

<<example-citations>>

#+END_SRC

#+NAME: article-examples
#+BEGIN_SRC latex :noweb yes :tangle templates/text-template/article-examples.tex

\section{Information about this template}

<<readme>>

<<example-citations>>

#+END_SRC

#+NAME: book-examples
#+BEGIN_SRC latex :noweb yes :tangle templates/text-template/book-examples.tex

\chapter{Information about this template}

<<readme>>

\chapter{Citation examples}

<<example-citations>>

#+END_SRC

** Beamer

#+NAME: beamer-examples
#+BEGIN_SRC latex :noweb yes :tangle templates/beamer-template/beamer-examples.tex
\begin{frame}
  \frametitle{About the template}
  
<<readme>>
  
\end{frame}

<<example-beamer-frames>>
<<example-beamer-blocks>>
<<example-beamer-overlays>>
<<example-beamer-columns>>

\begin{frame}
\frametitle{Citation}
<<example-citations>>
\end{frame}

\begin{frame}
\frametitle{Linguistic examples}
<<example-linguistic-examples>>
\end{frame}

\begin{frame}
\frametitle{Trees}
<<example-trees>>
\end{frame}

\begin{frame}
\frametitle{AVM}
<<example-avms>>
\end{frame}

% \begin{frame}
% \frametitle{IPA symbols}
% \input{examples/ipa.tex}
% \end{frame}

\begin{frame}
\frametitle{Formulae}
<<example-formulae>>
\end{frame}

\begin{frame}
\frametitle{Tables}
<<example-tables>>
\end{frame}
#+END_SRC

#+NAME: example-beamer-blocks
#+BEGIN_SRC latex
\begin{frame}
  \frametitle{Blocks}

  \begin{block}{Title of a block}		% Titles may be left blank!
    Body of a block
  \end{block}

  \begin{exampleblock}{Title of an exampleblock}
    Body of an exampleblock
  \end{exampleblock}

  \begin{alertblock}{Title of an alertblock}
    Body of an alertblock
  \end{alertblock}
  
\end{frame}
#+END_SRC

#+NAME: example-beamer-columns
#+BEGIN_SRC latex
\begin{frame}
  \frametitle{Columns}

  \begin{columns}
    \column{.55\textwidth}
    First column
		\pgfimage[width=\textwidth]{graphics/hhu-logo-hres}
    \column{.45\textwidth}
		Second column
    \begin{enumerate}
    \item bla
    \item blupp
    \end{enumerate}
  \end{columns}

\end{frame}
#+END_SRC

#+NAME: example-beamer-frames
#+BEGIN_SRC latex
\begin{frame}[label=frameoptions]
\frametitle{The frame environment}

  \hspace{-1em}{\tt $\backslash$begin\{frame\}[OVERLAY OPTION][OPTIONS]\{Title\}\{Subtitle\}}

  \bigskip

  {\bf OVERLAY OPTION:}
  \begin{itemize}
  \item {\tt <+->} 
  \end{itemize}

  \bigskip

  {\bf OPTIONS:}
  \begin{itemize}
  \item {\tt b,c,t}: frame orientation
  \item {\tt squeeze}: minimizes vertical margins
  \item {\tt plain}: suppresses title, header and sidebar
  \item {\tt label=name}: makes a frame reusable with {\tt $\backslash$againframe\{name\}} and can be used with hyperlinks.
  \item {\tt allowframebreaks}: spread frame content over several slides 
  \end{itemize}

  \vfill 

  Hyperlink: \hyperlink{frameoptions}{\beamerbutton{The frame environment}}

\end{frame}
#+END_SRC

#+NAME: example-beamer-overlays
#+BEGIN_SRC latex
\begin{frame}
  \frametitle{Overlays}
  {\small 

    Explicit specification of overlays:
    \begin{itemize}
    \item \color<2>{red}{Changing colors ...}
    \item \alert<3>{Alert mode ...} 
    \item \textbf<4>{Changing the font face ...}
    \item \only<-5>{Changing existence ...} 
    \item \visible<-6>{Changing visability ...}
    \item \uncover<7->{Uncovering from grey ...}
    \item \alt<8>{Specifying alternations ...}{... in one instruction}
    \end{itemize}

    \vfill
    {\tt $\backslash$pause[<number>]} separates two overlays.

    \vfill
    Overlays in list environments:
    \begin{itemize}
    \item<9-> First item
    \item<alert@10> Second item with alert
    \item Alternatively, list environments can have an overlay option such as {\tt <+-> } or {\tt <+- alert@ +>}.
    \end{itemize}

    \vfill
    Remember that you can declare overlays in the frame options.
    \hyperlink{frameoptions}{\beamerbutton{The frame environment}}

  }
\end{frame}


\begin{frame}
\frametitle{Overlays in Forest trees}

%% This example may cause problems together with TeX Live 2016
% \Forest{
%   [,phantom
%     [S,only=<+> [NP [N [I,lex]]]]
%     [S,only=<+>,--> [NP [N [I,lex]]]]
%     [S,only=<1-.> [V [wrote,lex]]]
%     [S,only=<+>
%       [NP [N [I,lex]]]
%       [V [wrote,lex]]]
%     [S,only=<+>,-->
%       [NP [N [I,lex]]]
%       [V [wrote,lex]]]
%     [S,only=<1-.> [NP [D [a,lex]]]]
%     [S,only=<+>
%       [NP [N [I,lex]]]
%       [V [wrote,lex]]
%       [NP [D [a,lex]]]]
%     [S,only=<+>,-->
%       [NP [N [I,lex]]]
%       [V [wrote,lex]]
%       [NP,--> [D [a,lex]]]]
%     [S,only=<1-.> [NP [N [novel,lex]]]]
%     [S,only=<+>
%       [NP [N [I,lex]]]
%       [V [wrote,lex]]
%       [NP
%         [D [a,lex]]
%         [N [novel,lex]]]]
%     [S,only=<+->,alert=<.>,c=0
%       [NP,c=1 [N [I,lex]]]
%       [V [wrote,lex]]
%       [NP,c=2
%         [D [a,lex]]
%         [N [novel,lex]]]] 
%     ]
%   }
\end{frame}
#+END_SRC

** Readme

#+NAME: readme
#+BEGIN_SRC latex
More \LaTeX{} templates on \url{https://github.com/timmli/latex-templates}.
#+END_SRC

** AVM

#+NAME: example-avms
#+BEGIN_SRC latex
\begin{avm}
  \@0\[\asort{eating}
    actor & \@1 \\ 
    theme & \@2 \]
\end{avm}

\medskip

\noindent $\Rightarrow$ \url{http://nlp.stanford.edu/manning/tex/avm-doc.pdf}
#+END_SRC

** Citations

#+NAME: example-citations
#+BEGIN_SRC latex
Example for invoking citations: \cite{Bech:63}, \citet[291]{Bech:63}, \citep{Bech:63}, \citealt{Bech:63}

References are stored in \texttt{references.bib}.
#+END_SRC

** Linguistics

#+NAME: example-linguistic-examples
#+BEGIN_SRC latex
\ex. This is a simple example.

\exg. [Noch am Boden liegend$_i$], sei [auf ihn$_i$] eingetreten worden.\\
still on.the floor lying be on him PART.kicked got\\
`While he was still on the floor he was kicked.'\\
(Cf. (422) in \citealt{Mueller:02})

\noindent $\Rightarrow$ \url{http://texdoc.net/texmf-dist/doc/latex/linguex/linguex-doc.pdf} \\
Note the Leipzig glossing rules: \url{http://www.eva.mpg.de/lingua/resources/glossing-rules.php}
#+END_SRC

#+NAME: example-ipa
#+BEGIN_SRC latex
\ex. \textipa{[""Ekspl@"neIS@n]}

$\Rightarrow$ \url{http://en.wikibooks.org/wiki/LaTeX/Linguistics#IPA_characters}
#+END_SRC

** Formulae

#+NAME: example-formulae
#+BEGIN_SRC latex
Formulae in texts: $a^2 + b^2 = c^2$

\noindent Formulae in equation environment:
\begin{equation}
a^2 + b^2 = c^2
\end{equation}
$\Rightarrow$ \url{http://en.wikibooks.org/wiki/LaTeX/Mathematics}
#+END_SRC

** Examples for texts

#+NAME: text-examples
#+BEGIN_SRC latex
\section{Citation}

<<example-citations>>

\section{Linguistic examples}

<<example-linguistic-examples>>

\section{Trees}

<<example-trees>>

\section{AVM}

<<example-avms>>

\section{IPA symbols}

<<example-ipa>>

\section{Formulae}

<<examples-formula>>

\section{Tables}

<<examples-tables>>
#+END_SRC

** Poster

#+NAME: poster-examples
#+BEGIN_SRC latex :noweb yes :tangle templates/poster-template/poster-examples.tex
<<example-poster-notes>>
#+END_SRC

#+NAME: example-poster-notes
#+BEGIN_SRC latex
\note{Note with default behavior}
\note[targetoffsetx=12cm, targetoffsety=-1cm, angle=20, rotate=25]{Note \\ offset and rotated}
\note[targetoffsetx=-10cm, targetoffsety=1cm, angle=-10, connection=true]{Connected note}
#+END_SRC

** TikZ

#+NAME: example-standalone-tikz
#+BEGIN_SRC latex
\documentclass[
	%pstricks=true
	,crop=true
	,varwidth=\maxdimen
	]{standalone}

\input{settings/pdflatex_setup.tex}
\input{settings/tikz_setup.tex}
\input{settings/forest_setup.tex}
\input{settings/avm_setup.tex}

\begin{document}

\begin{forest}
[,phantom,s sep=2em
  [NP,name=peter,tier=1 [\textit{Peter}]]
  %%%%%%%%%%%%%%%%%
  [VP,name=easily_r,tier=1
    [ADV [\textit{easily}]]
    [VP*,name=easily_f]]
  %%%%%%%%%%%%%%%%%
  [S
    [NP,name=rep_np1]
    [VP,name=rep_vp,tier=1  
      [V [\textit{repaired}]]
      [NP,name=rep_np2,tier=2]]]
  %%%%%%%%%%%%%%%%%
  [NP,name=fridge,tier=2 [\textit{the fridge},triangle]]
]
\draw[->,dashed,thick,draw=gray, bend angle=25, bend left] (peter) to (rep_np1);
\draw[->,dashed,thick,draw=gray, bend angle=10, bend right,shorten >=-0.6em] (easily_f) to (rep_vp.south west);
\draw[->,dashed,thick,draw=gray, bend angle=25, bend right] (fridge) to (rep_np2);
\end{forest}

\end{document}
#+END_SRC

** Tables

#+NAME: example-tables
#+BEGIN_SRC latex
\begin{tabular}{c|c|c}
\hline
cell 11 & cell 12 & cell 13 \\
\hline
cell 21 & cell 22 & cell 23 \\
\hline
\end{tabular}
#+END_SRC

** Trees

#+NAME: example-trees
#+BEGIN_SRC latex
% \Forest{
%   [S [NP] 
%     [VP [V  [\textit{eats}] ]
%       [NP] ]]
% }

%% This example may cause problems together with TeX Live 2016
% \Forest{
%   [,phantom
%     [S,--> [NP,--> [D [the]]]]
%     [S,--> [NP,--> [A [absent]]]]
%     [S, [NP [N [student]]]]
%     ]
% } 

\Forest{
  [,phantom
    [S,name=root,red subtree
      [AUX [\textit{does}] ]
      [S
        [NP]
        [VP,name=vp[V [\textit{say}]] [S*]]]]
    [S,Xs=10cm,Ys=5cm
      [NP]
      [S,name=s
        [NP [$\varepsilon$] ]
        [VP 
          [VP [V [\textit{walks}]]] 
          [PP]]]]
    ]
  \draw[->,gray,thick,dashed,bend right=10](vp)to(s);
}

\noindent $\Rightarrow$ \url{http://mirrors.ctan.org/graphics/pgf/contrib/forest/forest-doc.pdf}
#+END_SRC

* Makefile

** Beamer Makefile

#+NAME: beamer-makefile
#+BEGIN_SRC makefile :noweb yes :tangle templates/beamer-template/Makefile
SHELL := /bin/bash

BEAMER_FILES =  myMacros.tex \
	beamer-settings.tex \
	$(wildcard packages/*.sty) \
	beamer-examples.tex \
	$(wildcard bst/biblatex-sp-unified/[^.]*) \
	$(wildcard graphics/*.pdf) 

test_beamer:
	rm -fr test
	mkdir test
	cd test; mkdir beamer-template
	cp -r --parents $(BEAMER_FILES) test/beamer-template
	cp beamer-template.org beamer-template.tex \
		themes/* \
		references.bib \
		latexmkrc \
		test
	cd test; \
			latexmk -pdf beamer-template.tex

release_beamer:
	rm -fr temp
	mkdir temp
	cd temp; mkdir beamer-template
	cp -r --parents $(BEAMER_FILES) temp/beamer-template
	cp beamer-template.org beamer-template.tex \
		themes/* \
		references.bib \
		latexmkrc \
		temp
	cd temp; zip -r beamer-template.zip *; mv beamer-template.zip ..
	rm -fr temp
#+END_SRC

** Poster Makefile

#+NAME: poster-makefile
#+BEGIN_SRC makefile :noweb yes :tangle templates/poster-template/Makefile
SHELL := /bin/bash

POSTER_FILES =  myMacros.tex \
	poster-style.tex \
	poster-settings.tex \
	graphics/sfb-logo-quer.pdf \
	graphics/hhu-logo-hres.pdf \
	$(wildcard packages/*.sty) \
	poster-examples.tex  \
	$(wildcard bst/biblatex-sp-unified/[^.]*)

test_poster:
	rm -fr test
	mkdir test
	cd test; mkdir poster-template
	cp -r --parents $(POSTER_FILES) test/poster-template
	cp poster-template.tex \
		references.bib \
		latexmkrc \
		test
	cd test; \
			latexmk -pdf poster-template.tex

release_poster:
	rm -fr temp
	mkdir temp
	cd temp; mkdir poster-template
	cp -r --parents $(POSTER_FILES) temp/poster-template
	cp poster-template.tex \
		references.bib \
		latexmkrc \
		temp
	cd temp; zip -r poster-template.zip *; mv poster-template.zip ..
	rm -fr temp
#+END_SRC

** Teaching Makefile

#+NAME: teaching-makefile
#+BEGIN_SRC makefile :noweb yes :tangle templates/teaching-template/Makefile
SHELL := /bin/bash

HAUSARBEIT_FILES =  myMacros.tex \
	settings/text-settings.tex \
	$(wildcard packages/*.sty) \
	examples/hausarbeit-examples.tex \
	$(wildcard bst/biblatex-sp-unified/[^.]*) \
	hausarbeit-template.tex \
	references.bib

test_hausarbeit:
	rm -fr test
	mkdir test
	cp -r --parents $(HAUSARBEIT_FILES) test
	cd test; \
			latexmk -pdf hausarbeit-template.tex

release_hausarbeit:
	rm -fr temp
	mkdir temp
	cp -r --parents $(HAUSARBEIT_FILES) temp
	cd temp; zip -r hausarbeit-template.zip *; mv hausarbeit-template.zip ..
	rm -fr temp

#-------------------------------------------------------------------------------

ESSAY_FILES =  myMacros.tex \
	settings/text-settings.tex \
	settings/scrarticle-settings.tex \
	$(wildcard packages/*.sty) \
	examples/essay-examples.tex  \
	$(wildcard bst/biblatex-sp-unified/[^.]*) \
	references.bib \
  essay-template.tex

test_essay:
	rm -fr test
	mkdir test
	cp -r --parents $(ESSAY_FILES) test
	cd test; \
			latexmk -pdf essay-template.tex

release_essay:
	rm -fr tmp
	mkdir temp
	cp -r --parents $(ESSAY_FILES) temp
	cd temp; zip -r essay-template.zip *; mv essay-template.zip ..
	rm -fr temp


#-------------------------------------------------------------------------------

release_all: release_hausarbeit release_essay

test_all: test_hausarbeit test_essay

#+END_SRC

** Text Makefile

#+NAME: text-makefile
#+BEGIN_SRC makefile :noweb yes :tangle templates/text-template/Makefile
SHELL := /bin/bash

ABSTRACT_FILES =  myMacros.tex \
	text-settings.tex \
	$(wildcard packages/*.sty) \
	abstract-examples.tex  \
	$(wildcard bst/biblatex-sp-unified/[^.]*)

test_abstract:
	rm -fr test
	mkdir test
	cd test; mkdir text-template
	cp -r --parents $(ABSTRACT_FILES) test/text-template
	cp abstract-template.tex \
		references.bib \
		latexmkrc \
		test
	cd test; \
			latexmk -pdf abstract-template.tex

release_abstract:
	rm -fr temp
	mkdir temp
	cd temp; mkdir text-template
	cp -r --parents $(ABSTRACT_FILES) temp/text-template
	cp abstract-template.tex \
		references.bib \
		latexmkrc \
		temp
	cd temp; zip -r abstract-template.zip *; mv abstract-template.zip ..
	rm -fr temp

#-------------------------------------------------------------------------------

ARTICLE_FILES =  myMacros.tex \
	text-settings.tex \
	scrarticle-settings.tex \
	$(wildcard packages/*.sty) \
	article-examples.tex  \
	$(wildcard bst/biblatex-sp-unified/[^.]*)

test_article:
	rm -fr test
	mkdir test
	cd test; mkdir text-template
	cp -r --parents $(ARTICLE_FILES) test/text-template
	cp article-template.tex \
		references.bib \
		latexmkrc \
		test
	cd test; \
			latexmk -pdf article-template.tex

release_article:
	rm -fr tmp
	mkdir temp
	cd temp; mkdir text-template
	cp -r --parents $(ARTICLE_FILES) temp/text-template
	cp article-template.tex \
		references.bib \
		latexmkrc \
		temp
	cd temp; zip -r article-template.zip *; mv article-template.zip ..
	rm -fr temp

#-------------------------------------------------------------------------------

BOOK_FILES =  myMacros.tex \
	text-settings.tex \
	$(wildcard packages/*.sty) \
	book-examples.tex  \
	$(wildcard bst/biblatex-sp-unified/[^.]*)

test_book:
	rm -fr test
	mkdir test
	cd test; mkdir text-template
	cp -r --parents $(BOOK_FILES) test/text-template
	cp book-template.tex \
		references.bib \
		latexmkrc \
		test
	cd test; \
			latexmk -pdf book-template.tex

release_book:
	rm -fr tmp
	mkdir temp
	cd temp; mkdir text-template
	cp -r --parents $(BOOK_FILES) temp/text-template
	cp book-template.tex \
		references.bib \
		latexmkrc \
		temp
	cd temp; zip -r book-template.zip *; mv book-template.zip ..
	rm -fr temp

#-------------------------------------------------------------------------------

release_all: release_abstract release_article release_book

test_all: test_abstract test_article test_book

#+END_SRC

** JLM Makefile

#+NAME: jlm-makefile
#+BEGIN_SRC makefile :noweb yes :tangle templates/jlm-template/Makefile
SHELL := /bin/bash

JLM_FILES =  myMacros.tex \
	references.bib \
	jlm-article-template.org \
	latexmkrc \
	jlm.bst jlm.cls \
	cc-by.pdf \
	$(wildcard packages/*.sty) \
	fonts/* \
	doc/*

release_jlm:
	rm -fr temp
	mkdir temp
	cp -r --parents $(JLM_FILES) temp
	cd temp; zip -r jlm-template.zip *; mv jlm-template.zip ..
	rm -fr temp

#+END_SRC

** Langscibook Makefile

#+NAME: langscibook-makefile
#+BEGIN_SRC makefile :noweb yes :tangle templates/langscibook-template/Makefile
SHELL := /bin/bash

LANGSCI_FILES =  myMacros.tex \
	references.bib \
	langsci-paper-template.org \
	latexmkrc \
	$(wildcard packages/*.sty) 

release_langscibook:
	rm -fr temp
	mkdir temp
	cp -r --parents $(LANGSCI_FILES) temp
	cp -r langscibook/langsci temp/
	cd temp; zip -r langscibook-template.zip *; mv langscibook-template.zip ..
	rm -fr temp

#+END_SRC

** Standalone Makefile

#+NAME: standalone-makefile
#+BEGIN_SRC makefile :noweb yes :tangle templates/standalone-template/Makefile
SHELL := /bin/bash

STANDALONE_FILES =  myMacros.tex \
	$(wildcard packages/*.sty) 

test_standalone:
	rm -fr test
	mkdir test
	cd test; mkdir standalone-template
	cp -r --parents $(STANDALONE_FILES) test/standalone-template
	cp standalone-template.tex \
		test
	cd test; \
			latexmk -pdf standalone-template.tex

release_standalone:
	rm -fr temp
	mkdir temp
	cd temp; mkdir standalone-template
	cp -r --parents $(STANDALONE_FILES) temp/standalone-template
	cp standalone-template.tex \
		temp
	cd temp; zip -r standalone-template.zip *; mv standalone-template.zip ..
	rm -fr temp

#+END_SRC

* latexmk

#+NAME: beamer-latexmk
#+BEGIN_SRC shell :noweb yes :tangle templates/beamer-template/latexmkrc 
# -*- mode: Perl; eval: (flycheck-mode -1);-*-
# Manual: http://mirror.physik-pool.tu-berlin.de/pub/CTAN/support/latexmk/latexmk.pdf

$cleanup_mode = 2;
# 1 for full cleanup,
# 2 for cleanup except for .dvi, .ps and .pdf files,
# 3 for cleanup except for dep and aux files.
$clean_ex = "*.fls";
$pdflatex = 'pdflatex -shell-escape %O %S';
#+END_SRC

#+NAME: poster-latexmk
#+BEGIN_SRC shell :noweb yes :tangle templates/poster-template/latexmkrc 
$pdflatex = 'pdflatex %O %S';
#+END_SRC

#+NAME: text-latexmk
#+BEGIN_SRC shell :noweb yes :tangle templates/text-template/latexmkrc 
# -*- mode: Perl; eval: (flycheck-mode -1);-*-
# Manual: http://mirror.physik-pool.tu-berlin.de/pub/CTAN/support/latexmk/latexmk.pdf

$cleanup_mode = 2;
# 1 for full cleanup,
# 2 for cleanup except for .dvi, .ps and .pdffiles,
# 3 for cleanup except for dep and aux files.
$clean_ex = "*.fls";
$pdflatex = 'pdflatex -shell-escape %O %S';
#+END_SRC

#+NAME: jlm-latexmk
#+BEGIN_SRC shell :noweb yes :tangle templates/jlm-template/latexmkrc 
$pdflatex = 'xelatex %O %S';
#+END_SRC

#+NAME: langscibook-latexmk
#+BEGIN_SRC shell :noweb yes :tangle templates/langscibook-template/latexmkrc 
$pdflatex = 'xelatex %O %S';
#+END_SRC

* Local variables

# local variables:
# org-id-link-to-org-use-id: nil
# end:

* COMMENT Archive :ARCHIVE:
** Super class
:PROPERTIES:
:ARCHIVE_TIME: 2017-09-10 So 15:37
:END:

#+NAME: anyclass-defaults
#+BEGIN_SRC latex
\newcommand{\DocumentOptions}{11pt,a4paper}
\newcommand{\DocumentClass}{article}
#+END_SRC

#+NAME: anyclass
#+BEGIN_SRC latex :noweb yes :tangle anyclass.cls
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{anyclass}[2017/08/16 Just Any Document Type]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Default values
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

<<anyclass-defaults>>

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Option handling
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage{kvoptions}		% for key-value options
\SetupKeyvalOptions{
	family=anyclass,
	prefix=anyclass@ }

\DeclareVoidOption{article}{  			
  \renewcommand{\DocumentClass}{article}}
\DeclareVoidOption{book}{  			
  \renewcommand{\DocumentClass}{book}}
\DeclareVoidOption{beamer}{  			
  \renewcommand{\DocumentClass}{beamer}}
\DeclareVoidOption{abstract}{  			
  \renewcommand{\DocumentClass}{abstract}}

\DeclareStringOption{options}[11pt]
\define@key{langscibook}{options}{%
  \renewcommand{\DocumentOptions}{#1}}

\ProcessKeyvalOptions{anyclass}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Abstract
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\isabstract}{abstract}
\ifx\DocumentClass\isabstract

\LoadClass[
\DocumentOptions
]{article}

<<abstract-settings>>

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% ACL
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

% TODO


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Article
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\isarticle}{article}
\ifx\DocumentClass\isarticle

\LoadClass[
\DocumentOptions
]{article}

<<article-settings>>

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Beamer
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\isbeamer}{beamer}
\ifx\DocumentClass\isbeamer

\LoadClass[
\DocumentOptions
]{beamer}

<<beamer-settings>>

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Book
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\isbook}{book}
\ifx\DocumentClass\isbook

\LoadClass[
\DocumentOptions
]{book}

<<book-settings>>

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Poster
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

% TODO

#+END_SRC

** Preambles
:PROPERTIES:
:ARCHIVE_TIME: 2017-10-07 Sa 22:14
:END:

This is necessary to make the beamer template usable in org-mode:

#+BEGIN_SRC latex :noweb yes :tangle preambles/tl-beamer.cls
\NeedsTeXFormat{LaTeX2e} 
\ProvidesClass{preambles/tl-beamer}[2017/04/26 v0.1 My Beamer Preamble]

\LoadClass[
<<beamer-options>>
]{beamer}

<<beamer-settings>>
#+END_SRC

