%%%%%%%%%%%%%%%%%%%%%%%%
%   PDFLATEX SETTINGS  % 
%%%%%%%%%%%%%%%%%%%%%%%%

%%   Font & Encoding

% \usepackage{libertine} % libertine tends to cause problems, e.g. when using tipa
% \usepackage[libertine]{newtxmath}
\usepackage{times}

\makeatletter

\@ifclassloaded{beamer}{
  \usepackage{libertine} % libertine tends to cause problems, e.g. when using tipa
  \usepackage[libertine]{newtxmath}}{}

\@ifclassloaded{tikzposter}{
  \usepackage{DejaVuSans} 
  \renewcommand*{\familydefault}{\sfdefault}}{}

\makeatother

\usepackage[scaled=0.8]{beramono}  % for monospaced font
\usepackage{microtype}		% micro-typographic aspects of the fonts
\usepackage[T1]{fontenc}	% special fonts, e.g. for German umlaute

%% compatible with BibLaTeX
\usepackage[utf8]{inputenc}
%% incompabtible with BibLaTeX
% \usepackage{ucs}
% \usepackage[utf8x]{inputenc}

%% Language
%\usepackage{german} % is this useful anymore?
\usepackage[german,english]{babel} % the last language in the options is loaded; the other one can be chosen with \selectlanguage
\usepackage{iflang}                % for language specific settings

\usepackage{etex} 
\usepackage{graphics}
\input{packages/tikz-settings}
\input{packages/forest-settings}

\usepackage{url}
\usepackage{amsmath,amssymb,amsfonts,marvosym}
\usepackage{ulem}			% to cross out text
\normalem

\usepackage{ragged2e}
\let\raggedright=\RaggedRight

% \usepackage{tipa}
\usepackage{linguex}   % must be loaded below \usepackage[T1]{fontenc}
\AtBeginDocument{
  \setlength{\Exlabelsep}{0em}		% for linguex examples
  \setlength{\SubExleftmargin}{1,5em}	% for linguex examples
  \renewcommand\eachwordone{\sffamily}	% for glossing with linguex
  \renewcommand\eachwordtwo{\sffamily}	% for glossing with linguex
  % \setlength{\Extopsep}{1ex}   % vertical margin in linguex examples
}

\usepackage{packages/langsci-avm}

%%%%%%%%%%%%%%%%%%%%%%%% 
%  LISTINGS SETTINGS   % 
%%%%%%%%%%%%%%%%%%%%%%%% 

\usepackage{listings}

\lstset{basicstyle=\ttfamily,tabsize=2,breaklines=true}
\usepackage{color}
\definecolor{lightgray}{gray}{0.7}

%% Add syntax highlighting for specific programming languages
% \input{packages/listings-xmg-settings.tex} 



%% Bibliography

%%%%%%%%%%%%%%%%%%%%%%%% 
% BIBLATEX SETTINGS  % 
%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand{\mycitestyle}{muss}
\newcommand{\mybibstyle}{muss}

\makeatletter
\@ifclassloaded{beamer}{\renewcommand{\mycitestyle}{numeric-comp}}{}
\@ifclassloaded{tikzposter}{\renewcommand{\mycitestyle}{numeric-comp}}{}
\makeatother

\usepackage[
  bibstyle=\mybibstyle,
  citestyle=\mycitestyle,
  %% The remaining options are set in muss.bbx.
  % natbib=true,
  % refsection=chapter,
  % maxbibnames=99,
  % isbn=false,
  % doi=false,
  % eprint=false,
  % backend=biber,
  % sorting=ydnt,  % sort in descending chronological order
  % indexing=cite,
  % labelnumber,  % for numeric bibliography in beamer
  % toc=bib    % make bibliography appear in toc, incompatible with beamer
  ]{biblatex}
\renewcommand{\postnotedelim}{: }%
\renewcommand{\multicitedelim}{\addsemicolon\space}%
\renewcommand{\compcitedelim}{\multicitedelim}%
\DeclareFieldFormat{postnote}{#1}%

%% The bibliography file is specified like this
\addbibresource[datatype=bibtex]{references.bib}

\newcommand{\insertBib}{
  \printbibliography[
    % notkeyword=this
    ] 
}

% % Compat definitions to make available BibTeX macros in BibLaTeX 
% \let\citealt=\cite
% \let\cite=\textcite
% \let\citep=\parencite
% \let\citet=\cite
% \newcommand{\citeauthoryear}[1]{\citeauthor{#1} (\citeyear{#1})}
% \newcommand{\citealtauthoryear}[1]{\citeauthor{#1} \citeyear{#1}}



%% BibTeX 
% \input{settings/natbib_bibtex_setup.tex} 
% \PassOptionsToPackage{round}{natbib}
% \renewcommand{\newblock}{}    % to make natbib compatible with beamer

%%%%%%%%%%%%%%%%%%%%%%%%%
%   TEXTPOS SETTINGS    % 
%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{calc} % Enables the use of calc expressions: 0pt+1cm
\usepackage[
  absolute, % Absolute positioning
  overlay   % Positioned textblocks will overlay any other parts of the text.  
]{textpos}

\setlength{\TPHorizModule}{1em}
\setlength{\TPVertModule}{1ex}
\newlength{\textposOriginH}
\newlength{\textposOriginV}
\setlength{\textposOriginH}{10mm}
\setlength{\textposOriginV}{10mm}
\textblockorigin{\textposOriginH}{\textposOriginV}

\newcommand{\freeblock}[2]{
  \begin{textblock}{0.1}(#1)
  #2
  \end{textblock}
}
